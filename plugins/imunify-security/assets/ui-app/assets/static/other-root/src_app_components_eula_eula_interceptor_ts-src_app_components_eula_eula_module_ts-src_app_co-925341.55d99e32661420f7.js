"use strict";(self["webpackJsonpother-root"]=self["webpackJsonpother-root"]||[]).push([["src_app_components_eula_eula_interceptor_ts-src_app_components_eula_eula_module_ts-src_app_co-925341"],{27258:(e,t,n)=>{n.d(t,{z:()=>o});var i=n(52191),a=n(53850),r=n(2671);let o=(()=>{class e{constructor(e,t){this.eulaService=e,this.router=t}canActivate(e,t){return!!this.eulaService.licenseState.eula.value.isFailed()||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.L),a["\u0275\u0275inject"](i.Router))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},5400:(e,t,n)=>{n.d(t,{X:()=>c});var i=n(34929),a=n(53850),r=n(8208),o=n(91792),l=n(2671),s=n(84355),p=n(72986);class c{constructor(e,t){this.injector=e,this.authState=t}intercept(e,t){return t.handle(e).pipe((0,o.switchMap)(e=>{if(this.authState.isAdmin.value&&e instanceof r.HttpResponse){const t=e.body;if(t.data){const e=t.data.eula;if(void 0!==e&&!this.injector.get(l.L).checkEulaStatus(e))return o.EMPTY}}return(0,o.of)(e)}))}}c.\u0275fac=function(e){return new(e||c)(a["\u0275\u0275inject"](a.Injector),a["\u0275\u0275inject"](p.j))},c.\u0275prov=a["\u0275\u0275defineInjectable"]({token:c,factory:c.\u0275fac}),(0,i.gn)([s.Q],c.prototype,"intercept",null)},82887:(e,t,n)=>{n.r(t),n.d(t,{EULA_ROUTE:()=>M,I360EulaModule:()=>E});var i=n(60136),a=n(71670),r=n(34929),o=n(15815),l=n(92013),s=n(53850),p=n(2671),c=n(72986),d=n(88913),u=n(38699),m=n(17602),f=n(5705);function g(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h3"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"p"),s["\u0275\u0275text"](8),s["\u0275\u0275pipe"](9,"translate"),s["\u0275\u0275pipe"](10,"async"),s["\u0275\u0275elementEnd"]()(),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",8)(14,"button",9),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]();return s["\u0275\u0275resetView"](t.eulaStatus=!1)}),s["\u0275\u0275text"](15),s["\u0275\u0275pipe"](16,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"button",10),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]();return s["\u0275\u0275resetView"](t.accept())}),s["\u0275\u0275text"](18),s["\u0275\u0275pipe"](19,"translate"),s["\u0275\u0275elementEnd"]()()()()(),s["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](e.licenseState.eula.value.message),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](9,5,"eula.acceptUpdated",s["\u0275\u0275pipeBind1"](10,8,e.licenseState.license))," "),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",e.licenseState.eula.value.text," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](16,10,"eula.decline")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](19,12,"eula.accept")," ")}}function v(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",11)(1,"blocked-ui-message",12),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementStart"](3,"p",13),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"eula.acceptOrUninstall"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",9),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]();return s["\u0275\u0275resetView"](t.eulaStatus=!0)}),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"translate"),s["\u0275\u0275elementEnd"]()()()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("title",s["\u0275\u0275pipeBind1"](2,3,"eula.sorry")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("translateParams",s["\u0275\u0275pipeBind1"](4,5,e.licenseState.license)),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](8,7,"eula.back")," ")}}class S{constructor(e,t,n){this.eulaService=e,this.authState=t,this.licenseState=n,this.eulaStatus=!0}accept(){var e=this;return(0,a.Z)(function*(){yield e.eulaService.accept()})()}}S.\u0275fac=function(e){return new(e||S)(s["\u0275\u0275directiveInject"](p.L),s["\u0275\u0275directiveInject"](c.j),s["\u0275\u0275directiveInject"](d.u))},S.\u0275cmp=s["\u0275\u0275defineComponent"]({type:S,selectors:[["eula"]],viewQuery:function(e,t){if(1&e&&s["\u0275\u0275viewQuery"](o.e,7),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.loader=e.first)}},decls:5,vars:4,consts:[[1,"i360-eula-root"],[4,"ngIf","ngIfElse"],["agreementIsDecline",""],[1,"eula-license"],[1,"container-fluid"],["i360Loader",""],[1,"eula-title"],[1,"eula-agreement","i360-scrollbar"],[1,"eula-submit"],["mat-raised-button","",3,"click"],["mat-raised-button","","id","eula-accept-button","color","primary",3,"click"],[1,"eula-decline"],[3,"title"],["translate","",3,"translateParams"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,g,20,14,"ng-container",1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275template"](3,v,9,9,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](4);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.eulaStatus&&s["\u0275\u0275pipeBind1"](2,2,t.authState.isAdmin))("ngIfElse",e)}},dependencies:[i.NgIf,u.Pi,m.MatButton,o.e,f.F,i.AsyncPipe,u.X$],styles:['.i360-eula-root[_ngcontent-%COMP%] {\n  display: inline-block;\n  margin: auto;\n}\n\n[_nghost-%COMP%] {\n  display: flex;\n}\n\nbutton[_ngcontent-%COMP%] {\n  width: 132px;\n  height: 37px;\n}\n\n.ltr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .ltr   [_nghost-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-right: 7px;\n}\n\n.rtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-left: 7px;\n}\n\nh3[_ngcontent-%COMP%] {\n  font-family: "Open Sans", sans-serif;\n  font-size: 22px;\n}\n\np[_ngcontent-%COMP%] {\n  font-family: "Open Sans", sans-serif;\n  color: #616161;\n  font-size: 13px;\n}\n\n.eula-license[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  text-transform: uppercase;\n}\n\n.eula-license[_ngcontent-%COMP%]   .eula-title[_ngcontent-%COMP%] {\n  margin-top: 16px;\n  margin-bottom: 37px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.eula-license[_ngcontent-%COMP%]   .eula-agreement[_ngcontent-%COMP%] {\n  height: 400px;\n  max-width: 1000px;\n  overflow-y: scroll;\n  white-space: pre-wrap;\n  font-size: 13px;\n  border: solid 1px #e8e8e8;\n  margin-bottom: 20px;\n}\n\n.ltr[_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-agreement[_ngcontent-%COMP%], .ltr   [_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-agreement[_ngcontent-%COMP%] {\n  padding-left: 20px;\n}\n\n.rtl[_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-agreement[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-agreement[_ngcontent-%COMP%] {\n  padding-right: 20px;\n}\n\n.ltr[_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-submit[_ngcontent-%COMP%], .ltr   [_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-submit[_ngcontent-%COMP%] {\n  float: right;\n}\n\n.rtl[_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-submit[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .eula-license[_ngcontent-%COMP%]   .eula-submit[_ngcontent-%COMP%] {\n  float: left;\n}\n\n.eula-decline[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 100px;\n}\n\n.eula-decline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  font-size: 16px;\n  margin-bottom: 27px;\n}\n\n@media all and (max-width: 1087px) {\n  .eula-license[_ngcontent-%COMP%] {\n    width: 100%;\n  }\n}']}),(0,r.gn)([l.U],S.prototype,"accept",null);var h=n(48810),x=n(14633),C=n(62143),I=n(18102),y=n(52191);const M={path:"eula",loadChildren:()=>Promise.resolve().then(n.bind(n,82887)).then(e=>e.I360EulaModule),canActivate:[n(27258).z]};let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[y.RouterModule.forChild([{path:"",pathMatch:"full",component:S}]),i.CommonModule,h.l,m.MatButtonModule,x.MatIconModule,C.V,I.v]}),e})()},47582:(e,t,n)=>{n.d(t,{r:()=>C});var i=n(71670),a=n(34929),r=n(92013),o=n(39153),l=n(91792),s=n(53850),p=n(40853),c=n(73842),d=n(92962),u=n(60136),m=n(45837),f=n(15815),g=n(48274),v=n(25684),S=n(38699);function h(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",3)(1,"div")(2,"div",4),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275text"](6),s["\u0275\u0275pipe"](7,"translate"),s["\u0275\u0275elementEnd"]()(),s["\u0275\u0275elementStart"](8,"mat-slide-toggle",6),s["\u0275\u0275listener"]("change",function(t){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275nextContext"]();return s["\u0275\u0275resetView"](n.changeDefaultFeature({feature:"proactive"},t.source))}),s["\u0275\u0275elementEnd"]()()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](4,3,"settings.featuresManagement.proactive")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](7,5,"settings.featuresManagement.headerDescription")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("checked",e.counts.proactive)}}function x(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",7)(1,"div")(2,"div",4),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275text"](6),s["\u0275\u0275pipe"](7,"translate"),s["\u0275\u0275elementEnd"]()(),s["\u0275\u0275elementStart"](8,"mat-slide-toggle",6),s["\u0275\u0275listener"]("change",function(t){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275nextContext"]();return s["\u0275\u0275resetView"](n.changeDefaultFeature({feature:"av"},t.source))}),s["\u0275\u0275elementEnd"]()()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](4,3,"settings.featuresManagement.cleanup")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](7,5,"settings.featuresManagement.headerDescription")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("checked",e.counts.av)}}class C{constructor(e,t,n){this.featuresManagementService=e,this.modalService=t,this.notifications=n,this.counts={proactive:!1,av:!1}}changeDefaultFeature(e,t){var n=this;return(0,i.Z)(function*(){yield setTimeout(()=>{t.checked=!t.checked},1);const i=t.checked?"enable":"disable";(yield n.modalService.confirm(`${i}-${e.feature}-default`,[]))&&(yield n.editFeature(i,e.feature))})()}editFeature(e,t){var n=this;return(0,i.Z)(function*(){yield(0,l.firstValueFrom)(n.featuresManagementService.editDefaultFeature({action:e,feature:t}).pipe((0,l.tap)(()=>{n.notifications.success("notifications.editUserFeatures.notifications.success",null,{feature:t,action:e})}),(0,l.switchMap)(()=>n.request.load())),{defaultValue:void 0})})()}}C.\u0275fac=function(e){return new(e||C)(s["\u0275\u0275directiveInject"](p.x),s["\u0275\u0275directiveInject"](c.Z),s["\u0275\u0275directiveInject"](d.T))},C.\u0275cmp=s["\u0275\u0275defineComponent"]({type:C,selectors:[["default-features"]],viewQuery:function(e,t){if(1&e&&s["\u0275\u0275viewQuery"](o.v,7),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.request=e.first)}},decls:5,vars:7,consts:[[3,"i360-request","loaded"],["class","i360-default-feature proactive",4,"ngIf"],["class","i360-default-feature",4,"ngIf"],[1,"i360-default-feature","proactive"],[1,"i360-feature-title"],["i360-description",""],[3,"checked","change"],[1,"i360-default-feature"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275listener"]("loaded",function(e){return t.counts=e}),s["\u0275\u0275template"](1,h,9,7,"div",1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275template"](3,x,9,7,"div",2),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275elementEnd"]()),2&e){let e,n;s["\u0275\u0275property"]("i360-request",t.featuresManagementService.getFeaturesManagementDefaults),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==(e=s["\u0275\u0275pipeBind1"](2,3,t.featuresManagementService.allowed))?null:e.proactive),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==(n=s["\u0275\u0275pipeBind1"](4,5,t.featuresManagementService.allowed))?null:n.av)}},dependencies:[u.NgIf,o.v,m.F,f.e,g.MatSlideToggle,v.w,u.AsyncPipe,S.X$],styles:["[_nghost-%COMP%] {\n  display: block;\n}\n\n.i360-default-feature[_ngcontent-%COMP%] {\n  min-width: 390px;\n  display: inline-block;\n  padding: 39px;\n}\n\n.i360-default-feature[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n  display: inline-block;\n}\n\n.i360-default-feature[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]   .i360-feature-title[_ngcontent-%COMP%] {\n  font-weight: bold;\n}\n\n.i360-default-feature[_ngcontent-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%] {\n  vertical-align: top;\n  padding-left: 39px;\n}"]}),(0,a.gn)([r.U],C.prototype,"editFeature",null)},91695:(e,t,n)=>{n.d(t,{$:()=>c});var i=n(53850),a=n(60136),r=n(38699);function o(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," ")}}const l=function(e){return{size:e}};function s(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",3),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return i["\u0275\u0275resetView"](t.allDomains=!t.allDomains)}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,"settings.featuresManagement.showDomains",i["\u0275\u0275pureFunction1"](4,l,e.items.length))," ")}}function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",3),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return i["\u0275\u0275resetView"](t.allDomains=!t.allDomains)}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"settings.featuresManagement.hideDomains")," "))}let c=(()=>{class e{constructor(){this.allDomains=!1,this.maxShownDomains=3}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["i360-domains"]],inputs:{items:"items"},decls:6,vars:3,consts:[[1,"i360-domains"],[4,"ngFor","ngForOf"],["class","i360-domains-button",3,"click",4,"ngIf"],[1,"i360-domains-button",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275template"](2,o,2,1,"span",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div"),i["\u0275\u0275template"](4,s,3,6,"a",2),i["\u0275\u0275template"](5,p,3,3,"a",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.items.slice(0,t.allDomains?void 0:t.maxShownDomains)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.items.length>t.maxShownDomains&&!t.allDomains),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.items.length>t.maxShownDomains&&t.allDomains))},dependencies:[a.NgForOf,a.NgIf,r.X$],styles:[".i360-domains[_ngcontent-%COMP%] {\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: flex-start;\n            align-content: center;\n        }\n        .i360-domains[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] {\n            margin: 5px 5px 5px 0;\n            padding-right: 10px;\n        }"]}),e})()},91976:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(43554),a=n(85650),r=n(41882),o=n(91695),l=n(47582),s=n(60136),p=n(75293),c=n(62143),d=n(69679),u=n(48274),m=n(48810),f=n(60577),g=n(71071),v=n(14633),S=n(19389),h=n(53850);i.I,a.K,r.d,o.$,l.r;let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({imports:[s.CommonModule,p.a,c.V,d.Q,u.MatSlideToggleModule,m.l,f.n,g.L,v.MatIconModule,S.r]}),e})()},43554:(e,t,n)=>{n.d(t,{I:()=>Z});var i=n(71670),a=n(34929),r=n(53850),o=n(92013),l=n(39153),s=n(91792),p=n(39749),c=n(11807),d=n(98521),u=n(88913),m=n(40853),f=n(73842),g=n(60155),v=n(26195),S=n(60136),h=n(25355),x=n(45454),C=n(41380),I=n(99894),y=n(38885),M=n(33601),E=n(15910),_=n(63934),b=n(39492),w=n(70424),B=n(77144),N=n(54557),P=n(29639),O=n(15815),A=n(62471),T=n(5081),k=n(80134),F=n(91695),D=n(47582),R=n(73281),U=n(38699);const V=["newFeaturesManagementModal"];function j(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"i360-header",17),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275text"](5),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("subheader",r["\u0275\u0275pipeBind1"](1,2,e.licenseState.license).product===e.Product.imunify360?"":r["\u0275\u0275pipeBind2"](2,4,"settings.featuresManagement.description",r["\u0275\u0275pipeBind1"](3,7,e.licenseState.license))+"\n"+r["\u0275\u0275pipeBind1"](4,9,"settings.featuresManagement.descriptionNote")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](6,11,"settings.menu.featuresManagement")," ")}}function L(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"i360-message",18,19)(2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5," \xa0 "),r["\u0275\u0275elementStart"](6,"a",20),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return r["\u0275\u0275resetView"](t.confirmEnableNative())}),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"]()()}if(2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275property"]("theme",e.Theme.blue),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,3,"settings.featuresManagement.newFeaturesManagement.supportedText")," "),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](8,5,"notifications.details")," ")}}function G(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"i360-message",18,19)(2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5," \xa0 "),r["\u0275\u0275elementStart"](6,"a",20),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return r["\u0275\u0275resetView"](t.confirmEnablingPleskServicePlans())}),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"]()()}if(2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275property"]("theme",e.Theme.blue),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,3,"settings.featuresManagement.newFeaturesManagement.pleskSupportedText")," "),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](8,5,"notifications.details")," ")}}function $(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function z(e,t){if(1&e&&r["\u0275\u0275element"](0,"i360-domains",21),2&e){const e=t.$implicit;r["\u0275\u0275property"]("items",e.domains)}}function Q(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"i360-slide-column",22),r["\u0275\u0275listener"]("statusChange",function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]();return r["\u0275\u0275resetView"](n.changeFeature(t))}),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275elementStart"](2,"i360-sort-header",23),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()()}2&e&&(r["\u0275\u0275propertyInterpolate"]("headerText",r["\u0275\u0275pipeBind1"](1,2,"settings.featuresManagement.proactive")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,4,"settings.featuresManagement.proactive")," "))}function W(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"i360-slide-column",24),r["\u0275\u0275listener"]("statusChange",function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]();return r["\u0275\u0275resetView"](n.changeFeature(t))}),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275elementStart"](2,"i360-sort-header",25),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()()}2&e&&(r["\u0275\u0275propertyInterpolate"]("headerText",r["\u0275\u0275pipeBind1"](1,2,"settings.featuresManagement.cleanup")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,4,"settings.featuresManagement.cleanup")," "))}const q=function(e){return{packageName:e}};function H(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"i360-modal-content",26),r["\u0275\u0275elementContainerStart"](1,27),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"translate"),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementContainerStart"](4,28),r["\u0275\u0275elementStart"](5,"p"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"p")(9,"b"),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"translateCut"),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](13,"br"),r["\u0275\u0275text"](14),r["\u0275\u0275pipe"](15,"translateCut"),r["\u0275\u0275pipe"](16,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"p"),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translateCut"),r["\u0275\u0275pipe"](20,"translate"),r["\u0275\u0275element"](21,"br"),r["\u0275\u0275elementStart"](22,"b"),r["\u0275\u0275text"](23),r["\u0275\u0275pipe"](24,"translateCut"),r["\u0275\u0275pipe"](25,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](26,"br"),r["\u0275\u0275elementStart"](27,"b"),r["\u0275\u0275text"](28),r["\u0275\u0275pipe"](29,"translateCut"),r["\u0275\u0275pipe"](30,"translate"),r["\u0275\u0275elementEnd"]()(),r["\u0275\u0275elementStart"](31,"p"),r["\u0275\u0275text"](32),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](3,8,"utils.modals.confirm.titles.new-features-management")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](7,10,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-1",r["\u0275\u0275pureFunction1"](45,q,e.packageName))),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](11,13,r["\u0275\u0275pipeBind2"](12,16,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-2",r["\u0275\u0275pureFunction1"](47,q,e.packageName)),0)),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind2"](15,19,r["\u0275\u0275pipeBind2"](16,22,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-2",r["\u0275\u0275pureFunction1"](49,q,e.packageName)),1)," "),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind2"](19,25,r["\u0275\u0275pipeBind2"](20,28,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-3",r["\u0275\u0275pureFunction1"](51,q,e.packageName)),0)," "),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](24,31,r["\u0275\u0275pipeBind2"](25,34,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-3",r["\u0275\u0275pureFunction1"](53,q,e.packageName)),1)),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](29,37,r["\u0275\u0275pipeBind2"](30,40,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-3",r["\u0275\u0275pureFunction1"](55,q,e.packageName)),2)),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](33,43,"settings.featuresManagement.newFeaturesManagement.modalText.modalText-4")," ")}}const K=function(){return["user-"]};class Z{constructor(e,t,n,i,a,r,o){this.appState=e,this.panel=t,this.licenseState=n,this.featuresManagementService=i,this.modalService=a,this.settingsService=r,this.groupNotifications=o,this.Product=p.xs,this.packageName=IMUNIFY_PACKAGE}confirmEnableNative(){var e=this;return(0,i.Z)(function*(){(yield e.modalService.open(e.newFeaturesManagementModal))&&(yield e.enableNative())})()}enableNative(){var e=this;return(0,i.Z)(function*(){yield(0,s.firstValueFrom)(e.featuresManagementService.enableNative().pipe((0,s.switchMap)(()=>e.featuresManagementService.getNativeStatus()),(0,s.catchError)(()=>(0,s.of)(null))),{defaultValue:void 0})})()}confirmEnablingPleskServicePlans(){this.modalService.confirm("switch-to-plesk-service-plans",[],"true").then(e=>{e&&this.enablePleskServicePlans().then(()=>{location.reload()})})}enablePleskServicePlans(){return(0,s.firstValueFrom)(this.settingsService.saveSettings({PERMISSIONS:{use_plesk_service_plan:!0}}))}changeFeature(e){var t=this;return(0,i.Z)(function*(){const n=e.state?"disable":"enable",i=e.items.filter(t=>t[`${e.status}`]===e.state).map(e=>e.name);(yield t.modalService.confirm(`${n}-${e.status}`,i))&&(yield t.editUserFeatures(n,e,i))})()}editUserFeatures(e,t,n){var a=this;return(0,i.Z)(function*(){yield(0,s.firstValueFrom)(a.featuresManagementService.editUserFeatures({action:e,feature:t.status,items:n}).pipe((0,s.tap)(n=>{a.groupNotifications.forAction("edit-user-features",n.data.items,{feature:t.status,action:e})}),(0,s.switchMap)(()=>a.request.load())),{defaultValue:void 0})})()}}Z.\u0275fac=function(e){return new(e||Z)(r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](d.s_),r["\u0275\u0275directiveInject"](u.u),r["\u0275\u0275directiveInject"](m.x),r["\u0275\u0275directiveInject"](f.Z),r["\u0275\u0275directiveInject"](g.g),r["\u0275\u0275directiveInject"](v.s))},Z.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Z,selectors:[["features-management-legacy"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](l.v,7),r["\u0275\u0275viewQuery"](V,7)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.request=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.newFeaturesManagementModal=e.first)}},decls:29,vars:20,consts:[[3,"subheader",4,"ngIf"],["icon","icon-bell-in-circle",3,"theme",4,"ngIf"],[1,"canvas"],[3,"i360-request"],["i360-paginator","",3,"simplePagination"],["i360-limit",""],["i360-search",""],["i360-main-view","","i360-sortable","",3,"defaultValue"],["labelField","name"],["checkboxColumn",""],["field","user"],[4,"i360HostTemplate"],["headerText","settings.featuresManagement.domains"],[3,"items",4,"i360HostTemplate"],["bodyField","proactive",3,"headerText","statusChange",4,"ngIf"],["bodyField","av",3,"headerText","statusChange",4,"ngIf"],["newFeaturesManagementModal",""],[3,"subheader"],["icon","icon-bell-in-circle",3,"theme"],["message",""],[1,"i360-dashboard-link",3,"click"],[3,"items"],["bodyField","proactive",3,"headerText","statusChange"],["field","proactive"],["bodyField","av",3,"headerText","statusChange"],["field","av"],["i360-dialog-template","","confirmText","utils.modals.confirm.confirms.new-features-management"],["modal-title",""],["modal-body",""]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,j,7,13,"i360-header",0),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275template"](3,L,9,7,"i360-message",1),r["\u0275\u0275pipe"](4,"async"),r["\u0275\u0275template"](5,G,9,7,"i360-message",1),r["\u0275\u0275elementStart"](6,"div",2),r["\u0275\u0275element"](7,"default-features"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div")(9,"i360-data-view",3),r["\u0275\u0275element"](10,"i360-widget",4)(11,"i360-widget",5)(12,"i360-widget",6),r["\u0275\u0275elementStart"](13,"i360-table",7),r["\u0275\u0275element"](14,"i360-checkbox-column",8,9),r["\u0275\u0275elementStart"](16,"i360-column")(17,"i360-sort-header",10),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](20,$,2,1,"span",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](21,"i360-column",12),r["\u0275\u0275template"](22,z,1,1,"i360-domains",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](23,Q,5,6,"i360-slide-column",14),r["\u0275\u0275pipe"](24,"async"),r["\u0275\u0275template"](25,W,5,6,"i360-slide-column",15),r["\u0275\u0275pipe"](26,"async"),r["\u0275\u0275elementEnd"]()()()(),r["\u0275\u0275template"](27,H,34,57,"ng-template",null,16,r["\u0275\u0275templateRefExtractor"])),2&e){let e,n,i;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](2,9,t.licenseState.license).product<t.Product.imunify360),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==(e=r["\u0275\u0275pipeBind1"](4,11,t.featuresManagementService.native))?null:e.supported)&&!t.panel.isPlesk),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.panel.isPlesk),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("i360-request",t.featuresManagementService.getFeaturesManagement),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("simplePagination",!0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("defaultValue",r["\u0275\u0275pureFunction0"](19,K)),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](19,13,"settings.featuresManagement.name")," "),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",null==(n=r["\u0275\u0275pipeBind1"](24,15,t.featuresManagementService.allowed))?null:n.proactive),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==(i=r["\u0275\u0275pipeBind1"](26,17,t.featuresManagementService.allowed))?null:i.av)}},dependencies:[S.NgIf,h.a,x.b,C.W,I.O,y.w,M.H,E.a,_.H,b.PS,w.J,B.P,l.v,N.E,P.w,O.e,A.q,T.E,k.Z,F.$,D.r,S.AsyncPipe,R.v,U.X$],styles:["[_nghost-%COMP%] {\n  display: block;\n}\n\n.i360-app[_ngcontent-%COMP%]   i360-modal-content[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%] {\n  margin: 50px 0;\n}\n\ni360-domains[_ngcontent-%COMP%] {\n  text-overflow: ellipsis;\n}\n\n.i360-domains-button[_ngcontent-%COMP%] {\n  display: block;\n  color: #11cb84;\n}\n\n.canvas[_ngcontent-%COMP%] {\n  padding: 0;\n  margin: 0 0 29px 0;\n}\n\ni360-message[_ngcontent-%COMP%] {\n  margin-bottom: 23px;\n}"]}),(0,a.gn)([o.U],Z.prototype,"enableNative",null),(0,a.gn)([o.U],Z.prototype,"enablePleskServicePlans",null),(0,a.gn)([o.U],Z.prototype,"editUserFeatures",null)},85650:(e,t,n)=>{n.d(t,{K:()=>y});var i=n(34929),a=n(39749),r=n(92013),o=n(91792),l=n(53850),s=n(88913),p=n(98521),c=n(73842),d=n(60155),u=n(60136),m=n(14633),f=n(73281),g=n(38699);function v(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translateCut"),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementStart"](4,"a",5),l["\u0275\u0275text"](5),l["\u0275\u0275pipe"](6,"translateCut"),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translateCut"),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](2,3,l["\u0275\u0275pipeBind1"](3,6,e.t+"myImunify.description"),0)," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](6,8,l["\u0275\u0275pipeBind1"](7,11,e.t+"myImunify.description"),1)," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](9,13,l["\u0275\u0275pipeBind1"](10,16,e.t+"myImunify.description"),2)," ")}}function S(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275pipe"](3,"translateCut"),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementStart"](5,"a",6),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translateCut"),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translateCut"),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275elementStart"](12,"a",7),l["\u0275\u0275text"](13),l["\u0275\u0275pipe"](14,"translateCut"),l["\u0275\u0275pipe"](15,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](16),l["\u0275\u0275pipe"](17,"translateCut"),l["\u0275\u0275pipe"](18,"translate"),l["\u0275\u0275elementStart"](19,"a",8),l["\u0275\u0275text"](20),l["\u0275\u0275pipe"](21,"translateCut"),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](23),l["\u0275\u0275pipe"](24,"translateCut"),l["\u0275\u0275pipe"](25,"translate"),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate2"](" ",l["\u0275\u0275pipeBind1"](2,8,e.t+"packageExtensions.description")," ",l["\u0275\u0275pipeBind2"](3,10,l["\u0275\u0275pipeBind1"](4,13,e.t+"descriptionRest"),0)," "),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](7,15,l["\u0275\u0275pipeBind1"](8,18,e.t+"descriptionRest"),1)," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](10,20,l["\u0275\u0275pipeBind1"](11,23,e.t+"descriptionRest"),2)," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](14,25,l["\u0275\u0275pipeBind1"](15,28,e.t+"descriptionRest"),3)," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](17,30,l["\u0275\u0275pipeBind1"](18,33,e.t+"descriptionRest"),4)," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](21,35,l["\u0275\u0275pipeBind1"](22,38,e.t+"descriptionRest"),5)," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](24,40,l["\u0275\u0275pipeBind1"](25,43,e.t+"descriptionRest"),6)," ")}}function h(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"settings.featuresManagement.descriptionNote")," "))}const x=function(e){return{packageName:e}};function C(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"p",4),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,v,11,18,"p",3),l["\u0275\u0275template"](5,S,26,45,"p",3),l["\u0275\u0275template"](6,h,3,3,"p",3),l["\u0275\u0275pipe"](7,"async"),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();let t;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](3,4,e.t+(e.isMyImunify?"myImunify.title":"packageExtensions.title"),l["\u0275\u0275pureFunction1"](9,x,e.packageName))," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.isMyImunify),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!e.isMyImunify),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",(null==(t=l["\u0275\u0275pipeBind1"](7,7,e.licenseState.license))?null:t.product)!==e.Product.imunify360)}}function I(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"p",4),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"p")(5,"a",9),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"]();return l["\u0275\u0275resetView"](t.confirmSwitchToImunify())}),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"]()(),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](3,2,e.t+"packageExtensions.plesk.title")," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](7,4,e.t+"packageExtensions.plesk.switchBack"))}}class y{constructor(e,t,n,i){this.licenseState=e,this.panel=t,this.modalService=n,this.settingsService=i,this.Product=a.xs,this.packageName=IMUNIFY_PACKAGE,this.t="settings.featuresManagement.newFeaturesManagement.featuresManagementDisabled."}confirmSwitchToImunify(){this.modalService.confirm("switch-back-to-imunify-feature-management",[]).then(e=>{e&&this.disablePleskServicePlans().then(()=>{location.reload()})})}disablePleskServicePlans(){return(0,o.firstValueFrom)(this.settingsService.saveSettings({PERMISSIONS:{use_plesk_service_plan:!1}}))}}y.\u0275fac=function(e){return new(e||y)(l["\u0275\u0275directiveInject"](s.u),l["\u0275\u0275directiveInject"](p.s_),l["\u0275\u0275directiveInject"](c.Z),l["\u0275\u0275directiveInject"](d.g))},y.\u0275cmp=l["\u0275\u0275defineComponent"]({type:y,selectors:[["features-management-native"]],inputs:{isMyImunify:"isMyImunify"},decls:5,vars:2,consts:[[1,"i360-features-management-disabled"],["svgIcon","new-features-management"],[1,"description"],[4,"ngIf"],[1,"description-title"],["href","https://docs.imunify360.com/myimunify/#configuring-the-billing-system-whmcs-side","target","_blank"],["href","../../../scripts/editpkg2","target","_blank"],["href","../../../scripts4/listaccts","target","_blank"],["href","https://documentation.cpanel.net/display/DD/Guide+to+Package+Extensions+-+Data+Behavior+and+Changes","target","_blank"],[3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275element"](1,"mat-icon",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275template"](3,C,8,11,"ng-container",3),l["\u0275\u0275template"](4,I,8,6,"ng-container",3),l["\u0275\u0275elementEnd"]()()),2&e&&(l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",!t.panel.isPlesk),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.panel.isPlesk))},dependencies:[u.NgIf,m.MatIcon,u.AsyncPipe,f.v,g.X$],styles:["[_nghost-%COMP%] {\n  display: block;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  max-width: 1200px;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  min-width: 226px;\n  height: 297px;\n  margin: 10px;\n  flex-grow: 1;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] {\n  margin: 20px;\n  max-width: 525px;\n  flex-grow: 1;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .description-title[_ngcontent-%COMP%] {\n  font-weight: bold;\n  font-size: 23px;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  color: #11cb84;\n}\n\n.i360-features-management-disabled[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .i360-features-management-disabled[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 50px 0;\n}"]}),(0,i.gn)([r.U],y.prototype,"disablePleskServicePlans",null)},41882:(e,t,n)=>{n.d(t,{d:()=>x});var i=n(91792),a=n(53850),r=n(98521),o=n(40853),l=n(3594),s=n(60136),p=n(15815),c=n(43554),d=n(85650);function u(e,t){if(1&e&&(a["\u0275\u0275element"](0,"features-management-native",4),a["\u0275\u0275pipe"](1,"async")),2&e){const e=a["\u0275\u0275nextContext"](3);let t;a["\u0275\u0275property"]("isMyImunify",null==(t=a["\u0275\u0275pipeBind1"](1,1,e.config.changes))?null:t.MY_IMUNIFY.enable)}}function m(e,t){1&e&&a["\u0275\u0275element"](0,"features-management-legacy")}function f(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,u,2,3,"features-management-native",2),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275template"](3,m,1,0,"ng-template",null,3,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf,n=a["\u0275\u0275reference"](4),i=a["\u0275\u0275nextContext"](2);let r;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.enabled||(null==(r=a["\u0275\u0275pipeBind1"](2,2,i.config.changes))?null:r.MY_IMUNIFY.enable))("ngIfElse",n)}}function g(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,f,5,4,"ng-container",1),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",a["\u0275\u0275pipeBind1"](2,1,e.featuresManagementService.native))}}function v(e,t){1&e&&a["\u0275\u0275element"](0,"features-management-native")}function S(e,t){1&e&&a["\u0275\u0275element"](0,"features-management-legacy")}function h(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,v,1,0,"features-management-native",5),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275template"](3,S,1,0,"ng-template",null,3,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275reference"](4),t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",a["\u0275\u0275pipeBind1"](2,2,t.pleskServicePlanEnabled$))("ngIfElse",e)}}let x=(()=>{class e{constructor(e,t,n){this.panel=e,this.featuresManagementService=t,this.config=n,this.pleskServicePlanEnabled$=(0,i.of)(!1),this.panel.isPlesk&&(this.pleskServicePlanEnabled$=this.config.changes.pipe((0,i.map)(e=>e.PERMISSIONS?.use_plesk_service_plan)))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.s_),a["\u0275\u0275directiveInject"](o.x),a["\u0275\u0275directiveInject"](l.p))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["features-management"]],decls:3,vars:2,consts:[["i360Loader",""],[4,"ngIf"],[3,"isMyImunify",4,"ngIf","ngIfElse"],["legacy",""],[3,"isMyImunify"],[4,"ngIf","ngIfElse"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275template"](1,g,3,3,"ng-container",1),a["\u0275\u0275template"](2,h,5,4,"ng-container",1),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.panel.isPlesk),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.panel.isPlesk))},dependencies:[s.NgIf,p.e,c.I,d.K,s.AsyncPipe],encapsulation:2}),e})()},62327:(e,t,n)=>{n.d(t,{k:()=>le});var i=n(34204),a=n(71670),r=n(34929),o=n(92013),l=n(91792),s=n(15815),p=n(34322),c=n(67765),d=n(39749),u=n(98039),m=n(40160),f=n(53850),g=n(49818),v=n(60155),S=n(92962),h=n(8264),x=n(60136),C=n(14633),I=n(48274),y=n(17602),M=n(85290),E=n(1873),_=n(84568),b=n(50872),w=n(53530),B=n(66161),N=n(26881),P=n(15145),O=n(40230),A=n(38699);let T=(()=>{class e{constructor(){this.scriptsControl=new c.FormControl([]),this.SeparatedBy=_.g,this.destroy$=new l.Subject}writeValue(e){this.scriptsControl.setValue(e||[],{emitEvent:!1})}registerOnChange(e){this.onChange=e,this.scriptsControl.valueChanges.pipe((0,O.takeUntil)(this.destroy$)).subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.scriptsControl.disable():this.scriptsControl.enable()}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["i360-notification-run-script"]],hostVars:4,hostBindings:function(e,t){2&e&&f["\u0275\u0275classProp"]("config_item",!0)("flexer",!0)},features:[f["\u0275\u0275ProvidersFeature"]([{provide:c.NG_VALUE_ACCESSOR,useExisting:(0,f.forwardRef)(()=>e),multi:!0}])],decls:6,vars:8,consts:[[3,"inputTitle","description"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","7","commaSeparatedInput","",3,"formControl","splitBy"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",0),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementStart"](3,"cl-text-input")(4,"textarea",1),f["\u0275\u0275text"](5,"        "),f["\u0275\u0275elementEnd"]()()()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,4,"settings.notification.fields.runScript.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,6,"settings.notification.fields.runScript.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("formControl",t.scriptsControl)("splitBy",t.SeparatedBy.byEnter))},dependencies:[E.x,c.DefaultValueAccessor,c.NgControlStatus,_.S,c.FormControlDirective,N.CdkTextareaAutosize,P.MatInput,B.t,A.X$],encapsulation:2}),e})();var k=n(99705),F=n(92240);let D=(()=>{class e{constructor(){this.adminEmailsControl=new c.FormControl([]),this.useDefaultEmails=!1,this.destroy$=new l.Subject}useDefaultEmailsChange(e){const t=this.adminEmailsControl.getRawValue()||[];if(e)this.adminEmailsControl?.setValue([...t,k.E]);else{const e=t.filter(e=>e!==k.E);this.adminEmailsControl?.setValue([...e])}this.useDefaultEmails=e}writeValue(e){e&&(this.useDefaultEmails=e.some(e=>e===k.E)),this.adminEmailsControl.setValue(e||[],{emitEvent:!1})}registerOnChange(e){this.onChange=e,this.adminEmailsControl.valueChanges.pipe((0,O.takeUntil)(this.destroy$)).subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.adminEmailsControl.disable():this.adminEmailsControl.enable()}ngOnDestroy(){this.destroy$.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["i360-notification-emails"]],hostVars:4,hostBindings:function(e,t){2&e&&f["\u0275\u0275classProp"]("config_item",!0)("flexer",!0)},features:[f["\u0275\u0275ProvidersFeature"]([{provide:c.NG_VALUE_ACCESSOR,useExisting:(0,f.forwardRef)(()=>e),multi:!0}])],decls:12,vars:14,consts:[[3,"inputTitle","description"],[1,"display-flex-column"],[1,"i360-default-emails"],["color","primary",3,"checked","change"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","7","commaSeparatedInput","",3,"formControl"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",0),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementStart"](3,"div",1)(4,"div",2)(5,"mat-checkbox",3),f["\u0275\u0275listener"]("change",function(e){return t.useDefaultEmailsChange(e.checked)}),f["\u0275\u0275text"](6),f["\u0275\u0275pipe"](7,"translate"),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](8,"cl-text-input")(9,"textarea",4),f["\u0275\u0275pipe"](10,"translate"),f["\u0275\u0275text"](11,"            "),f["\u0275\u0275elementEnd"]()()()()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,6,"settings.notification.fields.adminEmails.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,8,"settings.notification.fields.adminEmails.description")),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("checked",t.useDefaultEmails),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](7,10,"settings.notification.fields.adminEmails.checkboxTitle")," "),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("formControl",t.adminEmailsControl),f["\u0275\u0275attribute"]("aria-label",f["\u0275\u0275pipeBind1"](10,12,"settings.notification.fields.adminEmails.label")))},dependencies:[E.x,c.DefaultValueAccessor,c.NgControlStatus,_.S,c.FormControlDirective,F.MatCheckbox,N.CdkTextareaAutosize,P.MatInput,B.t,A.X$],encapsulation:2}),e})();const R=["trigger"];let U=(()=>{class e{constructor(){this.onToggle=l.Subscription.EMPTY,this.expended=!1}ngAfterContentInit(){this.onToggle=(0,l.fromEvent)(this.trigger.nativeElement,"click").subscribe(()=>{this.expended=!this.expended})}ngOnDestroy(){this.onToggle.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=f["\u0275\u0275defineDirective"]({type:e,selectors:[["","i360-accordion",""]],contentQueries:function(e,t,n){if(1&e&&f["\u0275\u0275contentQuery"](n,R,7),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.trigger=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&f["\u0275\u0275classProp"]("i360-accordioned",!0)("i360-expended",t.expended)}}),e})();function V(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",23)(1,"i360-settings-field",12),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementStart"](4,"cl-text-input")(5,"textarea",24),f["\u0275\u0275text"](6,"                    "),f["\u0275\u0275elementEnd"]()()(),f["\u0275\u0275elementStart"](7,"i360-settings-field",12),f["\u0275\u0275pipe"](8,"translate"),f["\u0275\u0275pipe"](9,"translate"),f["\u0275\u0275elementStart"](10,"cl-text-input"),f["\u0275\u0275element"](11,"input",25),f["\u0275\u0275elementEnd"]()()()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](2,4,"settings.notification.emails.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](3,6,"settings.notification.emails.description")),f["\u0275\u0275advance"](6),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](8,8,"settings.notification.from.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](9,10,"settings.notification.from.description")))}function j(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",12),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275element"](3,"input",30),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,2,"settings.notification.fields.notifyEvery.mins.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,4,"settings.notification.fields.notifyEvery.mins.description")))}function L(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-emails",31)}function G(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",12),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275element"](3,"input",30),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,2,"settings.notification.fields.notifyEvery.sec.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,4,"settings.notification.fields.notifyEvery.sec.description")))}function $(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function z(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",5)(1,"div",6,7)(3,"mat-icon",8),f["\u0275\u0275text"](4," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementStart"](7,"mat-icon",9),f["\u0275\u0275pipe"](8,"translate"),f["\u0275\u0275text"](9," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](10,"div",26),f["\u0275\u0275elementContainerStart"](11,27),f["\u0275\u0275elementStart"](12,"i360-settings-field",12),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275pipe"](14,"translate"),f["\u0275\u0275element"](15,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](16,j,4,6,"i360-settings-field",28),f["\u0275\u0275template"](17,L,1,0,"i360-notification-emails",29),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](18,11),f["\u0275\u0275elementStart"](19,"i360-settings-field",12),f["\u0275\u0275pipe"](20,"translate"),f["\u0275\u0275pipe"](21,"translate"),f["\u0275\u0275element"](22,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](23,G,4,6,"i360-settings-field",28),f["\u0275\u0275template"](24,$,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,10,"settings.notification.groups.realtimeScanMalwareDetected.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](8,12,"settings.notification.groups.realtimeScanMalwareDetected.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](13,14,"settings.notification.fields.enableEmailNotification.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](14,16,"settings.notification.fields.enableEmailNotification.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.REALTIME_MALWARE_FOUND.ADMIN.enabled),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.REALTIME_MALWARE_FOUND.ADMIN.enabled),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](20,18,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](21,20,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.REALTIME_MALWARE_FOUND.SCRIPT.enabled),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.REALTIME_MALWARE_FOUND.SCRIPT.enabled)}}function Q(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function W(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function q(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function H(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function K(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-emails",31)}function Z(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0,27),f["\u0275\u0275elementStart"](1,"i360-settings-field",12),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275element"](4,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](5,K,1,0,"i360-notification-emails",29),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](2,3,"settings.notification.fields.enableEmailNotification.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](3,5,"settings.notification.fields.enableEmailNotification.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.CUSTOM_SCAN_MALWARE_FOUND.ADMIN.enabled)}}function J(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function Y(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-emails",31)}function X(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0,27),f["\u0275\u0275elementStart"](1,"i360-settings-field",12),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275element"](4,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](5,Y,1,0,"i360-notification-emails",29),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](2,3,"settings.notification.fields.enableEmailNotification.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](3,5,"settings.notification.fields.enableEmailNotification.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.USER_SCAN_MALWARE_FOUND.ADMIN.enabled)}}function ee(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function te(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",12),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275element"](3,"input",30),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,2,"settings.notification.fields.notifyEvery.mins.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,4,"settings.notification.fields.notifyEvery.mins.description")))}function ne(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-emails",31)}function ie(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"i360-settings-field",12),f["\u0275\u0275pipe"](1,"translate"),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275element"](3,"input",30),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](1,2,"settings.notification.fields.notifyEvery.sec.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](2,4,"settings.notification.fields.notifyEvery.sec.description")))}function ae(e,t){1&e&&f["\u0275\u0275element"](0,"i360-notification-run-script",32)}function re(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",5)(1,"div",6,7)(3,"mat-icon",8),f["\u0275\u0275text"](4," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementStart"](7,"mat-icon",9),f["\u0275\u0275pipe"](8,"translate"),f["\u0275\u0275text"](9," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](10,"div",33),f["\u0275\u0275elementContainerStart"](11,27),f["\u0275\u0275elementStart"](12,"i360-settings-field",12),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275pipe"](14,"translate"),f["\u0275\u0275element"](15,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](16,te,4,6,"i360-settings-field",28),f["\u0275\u0275template"](17,ne,1,0,"i360-notification-emails",29),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](18,11),f["\u0275\u0275elementStart"](19,"i360-settings-field",12),f["\u0275\u0275pipe"](20,"translate"),f["\u0275\u0275pipe"](21,"translate"),f["\u0275\u0275element"](22,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](23,ie,4,6,"i360-settings-field",28),f["\u0275\u0275template"](24,ae,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,10,"settings.notification.groups.scriptBlocked.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](8,12,"settings.notification.groups.scriptBlocked.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](13,14,"settings.notification.fields.enableEmailNotification.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](14,16,"settings.notification.fields.enableEmailNotification.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.SCRIPT_BLOCKED.ADMIN.enabled),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.SCRIPT_BLOCKED.ADMIN.enabled),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](20,18,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](21,20,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.SCRIPT_BLOCKED.SCRIPT.enabled),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==e.form.value?null:e.form.value.rules.SCRIPT_BLOCKED.SCRIPT.enabled)}}class oe{constructor(e,t,n,i){this.formBuilder=e,this.settingsService=t,this.notifications=n,this.translate=i,this.is360Package=IMUNIFY_PACKAGE===d.GL.imunify360,this.destroyed=new l.Subject,this.localeExists=!1,this.form=this.formBuilder.group(this.getSchema()),this.removeDefaults=e=>{Object.keys(e||{}).forEach(t=>{["scripts","admin_emails"].includes(t)&&Array.isArray(e[t])&&!e[t].length&&delete e[t],"period"===t&&1===e[t]&&delete e[t],e[t]&&"object"==typeof e[t]&&this.removeDefaults(e[t])})}}ngOnInit(){var e=this;return(0,a.Z)(function*(){yield(0,l.firstValueFrom)(e.settingsService.notificationShow().pipe((0,l.map)(e=>e.data.items),(0,l.takeUntil)(e.destroyed),(0,l.filter)(e=>void 0!==e),(0,l.map)(t=>{const n=JSON.parse(JSON.stringify(t));e.originalConfig=n,"admin"in n&&"locale"in n.admin&&(delete n.admin.locale,e.localeExists=!0);for(let e of Object.keys(n.rules))"ADMIN"in n.rules[e]&&"period"in n.rules[e].ADMIN&&(n.rules[e].ADMIN.period=Math.ceil(n.rules[e].ADMIN.period/60));e.form.patchValue(n)})),{defaultValue:void 0})})()}confirmReload(){if(!this.originalConfig)return!1;const e=this.originalConfig,t=this.normalizedForm(!1);this.removeDefaults(e),this.removeDefaults(t);let n=!1;return IMUNIFY_PACKAGE===d.GL.imunify360&&(delete e.admin?.locale,delete t?.admin?.locale,n||(n=!(0,u.G)({admin:e.admin},{admin:t?.admin}))),n||(n=!(0,u.G)(e.rules,t?.rules)),n&&!localStorage.getItem("I360_UNSAVED_CONFIG_LEAVING_PAGE_CONFIRM_DISABLED")&&!(0,m.z)("SettingsNotificationComponent")&&confirm(this.translate.translate.instant("reload-page"))}ngOnDestroy(){this.destroyed.next()}normalizedForm(e=!0){const t=JSON.parse(JSON.stringify(this.form.value));if("admin"in t&&!this.localeExists&&(t.admin.locale=this.translate.currentLang),e)for(const e of this.adminGenerator())"period"in t.rules[e].ADMIN&&(t.rules[e].ADMIN.period*=60);return t}submit(){var e=this;return(0,a.Z)(function*(){e.originalConfig=JSON.parse(JSON.stringify(e.form.value)),yield(0,l.firstValueFrom)(e.settingsService.saveNotificationSettings(e.normalizedForm()).pipe((0,l.tap)(()=>e.notifications.success("settings.successSaveMessage",void 0))),{defaultValue:void 0})})()}*adminGenerator(){const e=JSON.parse(JSON.stringify(this.form.value));for(let t of Object.keys(e.rules))"ADMIN"in e.rules[t]&&(yield t)}getSchema(){const e=()=>({period:this.formBuilder.control(1,[p.M.integer(!0),c.Validators.min(1)])}),t=(t=!1)=>({SCRIPT:this.formBuilder.group({scripts:this.formBuilder.control([],[p.M.required("script"),p.M.listOfAbsolutePaths]),enabled:this.formBuilder.control(!1),...t?e():{}})}),n=(t=!1)=>{const n=this.formBuilder.control(!1),i=this.formBuilder.control([],[p.M.emailsWithDefault]);return{ADMIN:this.formBuilder.group({admin_emails:i,enabled:n,...t?e():{}})}},i=(e=!1)=>({...n(e),...t(e)});return this.is360Package?{admin:this.formBuilder.group({default_emails:this.formBuilder.control([],[p.M.emails]),notify_from_email:this.formBuilder.control("",[p.M.required("email"),p.M.email])}),rules:this.formBuilder.group({REALTIME_MALWARE_FOUND:this.formBuilder.group(i(!0)),USER_SCAN_STARTED:this.formBuilder.group(t()),CUSTOM_SCAN_STARTED:this.formBuilder.group(t()),USER_SCAN_FINISHED:this.formBuilder.group(t()),CUSTOM_SCAN_FINISHED:this.formBuilder.group(t()),CUSTOM_SCAN_MALWARE_FOUND:this.formBuilder.group(i(!1)),USER_SCAN_MALWARE_FOUND:this.formBuilder.group(i(!1)),SCRIPT_BLOCKED:this.formBuilder.group(i(!0))})}:{rules:this.formBuilder.group({USER_SCAN_STARTED:this.formBuilder.group(t()),CUSTOM_SCAN_STARTED:this.formBuilder.group(t()),USER_SCAN_FINISHED:this.formBuilder.group(t()),CUSTOM_SCAN_FINISHED:this.formBuilder.group(t()),CUSTOM_SCAN_MALWARE_FOUND:this.formBuilder.group(t()),USER_SCAN_MALWARE_FOUND:this.formBuilder.group(t())})}}}oe.\u0275fac=function(e){return new(e||oe)(f["\u0275\u0275directiveInject"](g.I),f["\u0275\u0275directiveInject"](v.g),f["\u0275\u0275directiveInject"](S.T),f["\u0275\u0275directiveInject"](h.sK))},oe.\u0275cmp=f["\u0275\u0275defineComponent"]({type:oe,selectors:[["settings-notification"]],viewQuery:function(e,t){if(1&e&&f["\u0275\u0275viewQuery"](s.e,7),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.loader=e.first)}},decls:114,vars:87,consts:[[1,"card-container","settings-container",3,"formGroup","i360Submit"],["i360Loader","",1,"canvas","i360-visible-save-button"],["class","input_group","formGroupName","admin",4,"ngIf"],["formGroupName","rules"],["class","input_group","i360-accordion","",4,"ngIf"],["i360-accordion","",1,"input_group"],[1,"group_name"],["trigger",""],[1,"i360-icon-arrow-up"],[3,"matTooltip"],["formGroupName","USER_SCAN_STARTED",1,"input_group","items"],["formGroupName","SCRIPT"],[3,"inputTitle","description"],["color","primary","formControlName","enabled"],["formControlName","scripts",4,"ngIf"],["formGroupName","CUSTOM_SCAN_STARTED",1,"input_group","items"],["formGroupName","USER_SCAN_FINISHED",1,"input_group","items"],["formGroupName","CUSTOM_SCAN_FINISHED",1,"input_group","items"],["formGroupName","CUSTOM_SCAN_MALWARE_FOUND",1,"input_group","items"],["formGroupName","ADMIN",4,"ngIf"],["formGroupName","USER_SCAN_MALWARE_FOUND",1,"input_group","items"],[1,"tools"],["id","update-config","mat-raised-button","","type","submit"],["formGroupName","admin",1,"input_group"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","7","formControlName","default_emails","commaSeparatedInput",""],["matInput","","formControlName","notify_from_email"],["formGroupName","REALTIME_MALWARE_FOUND",1,"input_group","items"],["formGroupName","ADMIN"],[3,"inputTitle","description",4,"ngIf"],["formControlName","admin_emails",4,"ngIf"],["formControlName","period"],["formControlName","admin_emails"],["formControlName","scripts"],["formGroupName","SCRIPT_BLOCKED",1,"input_group","items"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"form",0),f["\u0275\u0275listener"]("i360Submit",function(){return t.submit()}),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275template"](2,V,12,12,"div",2),f["\u0275\u0275elementContainerStart"](3,3),f["\u0275\u0275template"](4,z,25,22,"div",4),f["\u0275\u0275elementStart"](5,"div",5)(6,"div",6,7)(8,"mat-icon",8),f["\u0275\u0275text"](9," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](10),f["\u0275\u0275pipe"](11,"translate"),f["\u0275\u0275elementStart"](12,"mat-icon",9),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275text"](14," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](15,"div",10),f["\u0275\u0275elementContainerStart"](16,11),f["\u0275\u0275elementStart"](17,"i360-settings-field",12),f["\u0275\u0275pipe"](18,"translate"),f["\u0275\u0275pipe"](19,"translate"),f["\u0275\u0275element"](20,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](21,Q,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](22,"div",5)(23,"div",6,7)(25,"mat-icon",8),f["\u0275\u0275text"](26," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](27),f["\u0275\u0275pipe"](28,"translate"),f["\u0275\u0275elementStart"](29,"mat-icon",9),f["\u0275\u0275pipe"](30,"translate"),f["\u0275\u0275text"](31," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](32,"div",15),f["\u0275\u0275elementContainerStart"](33,11),f["\u0275\u0275elementStart"](34,"i360-settings-field",12),f["\u0275\u0275pipe"](35,"translate"),f["\u0275\u0275pipe"](36,"translate"),f["\u0275\u0275element"](37,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](38,W,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](39,"div",5)(40,"div",6,7)(42,"mat-icon",8),f["\u0275\u0275text"](43," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](44),f["\u0275\u0275pipe"](45,"translate"),f["\u0275\u0275elementStart"](46,"mat-icon",9),f["\u0275\u0275pipe"](47,"translate"),f["\u0275\u0275text"](48," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](49,"div",16),f["\u0275\u0275elementContainerStart"](50,11),f["\u0275\u0275elementStart"](51,"i360-settings-field",12),f["\u0275\u0275pipe"](52,"translate"),f["\u0275\u0275pipe"](53,"translate"),f["\u0275\u0275element"](54,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](55,q,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](56,"div",5)(57,"div",6,7)(59,"mat-icon",8),f["\u0275\u0275text"](60," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](61),f["\u0275\u0275pipe"](62,"translate"),f["\u0275\u0275elementStart"](63,"mat-icon",9),f["\u0275\u0275pipe"](64,"translate"),f["\u0275\u0275text"](65," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](66,"div",17),f["\u0275\u0275elementContainerStart"](67,11),f["\u0275\u0275elementStart"](68,"i360-settings-field",12),f["\u0275\u0275pipe"](69,"translate"),f["\u0275\u0275pipe"](70,"translate"),f["\u0275\u0275element"](71,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](72,H,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](73,"div",5)(74,"div",6,7)(76,"mat-icon",8),f["\u0275\u0275text"](77," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](78),f["\u0275\u0275pipe"](79,"translate"),f["\u0275\u0275elementStart"](80,"mat-icon",9),f["\u0275\u0275pipe"](81,"translate"),f["\u0275\u0275text"](82," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](83,"div",18),f["\u0275\u0275template"](84,Z,6,7,"ng-container",19),f["\u0275\u0275elementContainerStart"](85,11),f["\u0275\u0275elementStart"](86,"i360-settings-field",12),f["\u0275\u0275pipe"](87,"translate"),f["\u0275\u0275pipe"](88,"translate"),f["\u0275\u0275element"](89,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](90,J,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](91,"div",5)(92,"div",6,7)(94,"mat-icon",8),f["\u0275\u0275text"](95," keyboard_arrow_right "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](96),f["\u0275\u0275pipe"](97,"translate"),f["\u0275\u0275elementStart"](98,"mat-icon",9),f["\u0275\u0275pipe"](99,"translate"),f["\u0275\u0275text"](100," info "),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275elementStart"](101,"div",20),f["\u0275\u0275template"](102,X,6,7,"ng-container",19),f["\u0275\u0275elementContainerStart"](103,11),f["\u0275\u0275elementStart"](104,"i360-settings-field",12),f["\u0275\u0275pipe"](105,"translate"),f["\u0275\u0275pipe"](106,"translate"),f["\u0275\u0275element"](107,"mat-slide-toggle",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](108,ee,1,0,"i360-notification-run-script",14),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"]()(),f["\u0275\u0275template"](109,re,25,22,"div",4),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementStart"](110,"div",21)(111,"button",22),f["\u0275\u0275text"](112),f["\u0275\u0275pipe"](113,"translate"),f["\u0275\u0275elementEnd"]()()()()),2&e&&(f["\u0275\u0275property"]("formGroup",t.form),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.is360Package),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.is360Package),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](11,37,"settings.notification.groups.userScanStarted.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](13,39,"settings.notification.groups.userScanStarted.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](18,41,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](19,43,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.USER_SCAN_STARTED.SCRIPT.enabled),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](28,45,"settings.notification.groups.customScanStarted.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](30,47,"settings.notification.groups.customScanStarted.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](35,49,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](36,51,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.CUSTOM_SCAN_STARTED.SCRIPT.enabled),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](45,53,"settings.notification.groups.userScanFinished.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](47,55,"settings.notification.groups.userScanFinished.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](52,57,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](53,59,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.USER_SCAN_FINISHED.SCRIPT.enabled),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](62,61,"settings.notification.groups.customScanFinished.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](64,63,"settings.notification.groups.customScanFinished.tooltip")),f["\u0275\u0275advance"](5),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](69,65,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](70,67,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.CUSTOM_SCAN_FINISHED.SCRIPT.enabled),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](79,69,"settings.notification.groups.customScanMalwareFound.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](81,71,"settings.notification.groups.customScanMalwareFound.tooltip")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",t.is360Package),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](87,73,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](88,75,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.CUSTOM_SCAN_MALWARE_FOUND.SCRIPT.enabled),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](97,77,"settings.notification.groups.userScanMalwareFound.label")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("matTooltip",f["\u0275\u0275pipeBind1"](99,79,"settings.notification.groups.userScanMalwareFound.tooltip")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",t.is360Package),f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("inputTitle",f["\u0275\u0275pipeBind1"](105,81,"settings.notification.fields.enableScriptExecute.label")),f["\u0275\u0275propertyInterpolate"]("description",f["\u0275\u0275pipeBind1"](106,83,"settings.notification.fields.enableScriptExecute.description")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",null==t.form.value?null:t.form.value.rules.USER_SCAN_MALWARE_FOUND.SCRIPT.enabled),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.is360Package),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](113,85,"settings.saveSettings")," "))},dependencies:[c["\u0275NgNoValidate"],c.DefaultValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.FormGroupDirective,c.FormControlName,c.FormGroupName,x.NgIf,C.MatIcon,I.MatSlideToggle,y.MatButton,M.MatTooltip,E.x,_.S,b.O,w.J,s.e,B.t,N.CdkTextareaAutosize,P.MatInput,T,D,U,A.X$],encapsulation:2}),(0,r.gn)([o.U],oe.prototype,"ngOnInit",null),(0,r.gn)([o.U],oe.prototype,"submit",null);const le={path:"notifications",component:oe,canDeactivate:[i.R]}},63939:(e,t,n)=>{n.d(t,{T:()=>M});var i=n(69679),a=n(17602),r=n(92240),o=n(33530),l=n(38340),s=n(85290),p=n(54635),c=n(62143),d=n(8373),u=n(48810),m=n(60136),f=n(14633),g=n(48274),v=n(67765),S=n(19589),h=n(15145),x=n(26881),C=n(53850);let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({imports:[m.CommonModule,u.l,S.$,v.FormsModule,p.c,i.Q,r.MatCheckboxModule,h.MatInputModule,v.ReactiveFormsModule,x.TextFieldModule,d.N]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({imports:[m.CommonModule,u.l,S.$,v.FormsModule,p.c,i.Q,h.MatInputModule,v.ReactiveFormsModule,x.TextFieldModule,d.N]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({imports:[v.ReactiveFormsModule,u.l,m.CommonModule,f.MatIconModule,g.MatSlideToggleModule,a.MatButtonModule,o.MatSelectModule,l.MatSliderModule,s.MatTooltipModule,S.$,p.c,i.Q,c.V,r.MatCheckboxModule,d.N,y,I]}),e})()},70995:(e,t,n)=>{n.d(t,{Q:()=>i});const i={path:n(70641).U.Support,loadChildren:()=>n.e("src_app_components_support_support_module_ts").then(n.bind(n,88401)).then(e=>e.I360SupportModule)}},40853:(e,t,n)=>{n.d(t,{x:()=>s});var i=n(76331),a=n(29782),r=n(91792),o=n(53850),l=n(13336);let s=(()=>{class e{constructor(e){this.xhr=e,this.getNativeStatusRaw=this.xhr.rx(i.w6.nativeStatus),this.enableNative=this.xhr.rx(i.w6.nativeEnable),this.getAllowed=this.xhr.rx(i.w6.allowed),this.getFeaturesManagement=this.xhr.wrap(this.xhr.rx(i.w6.list),i.cY),this.getFeaturesManagementDefaults=this.xhr.rx(i.w6.defaults),this.editUserFeatures=this.xhr.rx(i.w6.editUserFeatures),this.editDefaultFeature=this.xhr.rx(i.w6.editDefaultFeature),this.forceNativeStatusUpdate=new r.Subject,this.native=this.getNativeStatus().pipe((0,r.map)(e=>e.data.items),(0,a.F)(300,this.forceNativeStatusUpdate)),this.allowed=this.getAllowed().pipe((0,r.map)(e=>e.data.items.reduce((e,t)=>(e[t]=!0,e),{})),(0,a.F)(300))}getNativeStatus(){return this.getNativeStatusRaw().pipe((0,r.tap)(e=>this.forceNativeStatusUpdate.next(e.data.items)))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](l.K))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},5705:(e,t,n)=>{n.d(t,{F:()=>o});var i=n(53850),a=n(14633);const r=["*"];let o=(()=>{class e{constructor(){this.title=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["blocked-ui-message"]],inputs:{title:"title"},ngContentSelectors:r,decls:5,vars:1,consts:[[1,"blocked-ui-message"],["svgIcon","logo-grey",1,"logo-grey"],["role","heading","aria-level","1"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"mat-icon",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275projection"](4),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.title))},dependencies:[a.MatIcon],styles:[".blocked-ui-message[_ngcontent-%COMP%] {\n  text-align: center;\n  max-width: 100%;\n}\n.blocked-ui-message[_ngcontent-%COMP%]   div[role=heading][_ngcontent-%COMP%] {\n  font-size: 22px;\n  margin: 0;\n  line-height: 2.44;\n}\n.blocked-ui-message[_ngcontent-%COMP%]   .logo-grey[_ngcontent-%COMP%] {\n  margin: 0 auto;\n  width: 80px;\n  height: 80px;\n}"]}),e})()},18102:(e,t,n)=>{n.d(t,{v:()=>o});var i=n(60136),a=n(14633),r=n(53850);let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[i.CommonModule,a.MatIconModule]}),e})()},99800:(e,t,n)=>{n.d(t,{J:()=>o});var i=n(34322),a=n(12713),r=n(67765);const o=e=>({ERROR_REPORTING:e.group({enable:e.control(!0)}),MALWARE_SCAN_SCHEDULE:e.group({interval:e.control({value:null,allowedValues:[{value:a.H3.none,title:"settings.malware.scheduledScanning.interval.options.none"},{value:a.H3.day,title:"settings.malware.scheduledScanning.interval.options.day"},{value:a.H3.week,title:"settings.malware.scheduledScanning.interval.options.week"},{value:a.H3.month,title:"settings.malware.scheduledScanning.interval.options.month"}]},i.M.required("schedule_type")),day_of_month:e.control(null,[i.M.integer(!0),r.Validators.min(1),r.Validators.max(31)]),day_of_week:e.control({value:null,allowedValues:Array.from({length:7},(e,t)=>t)},i.M.required("")),hour:e.control({value:null,allowedValues:Array.from({length:24},(e,t)=>t)},i.M.required(""))}),MALWARE_CLEANUP:e.group({trim_file_instead_of_removal:e.control(!0),keep_original_files_days:e.control(14,[i.M.integer(!0),r.Validators.min(1)])}),MALWARE_SCANNING:e.group({rapid_scan:e.control(!1),sends_file_for_analysis:e.control(!0),detect_elf:e.control(!1),hyperscan:e.control(!1)}),MALWARE_SCAN_INTENSITY:e.group({cpu:e.control(7),io:e.control(7)}),WORDPRESS:e.group({security_plugin_enabled:e.control(!1)})})}}]);
//# sourceMappingURL=src_app_components_eula_eula_interceptor_ts-src_app_components_eula_eula_module_ts-src_app_co-925341.55d99e32661420f7.js.map