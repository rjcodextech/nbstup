"use strict";(self["webpackJsonpother-root"]=self["webpackJsonpother-root"]||[]).push([["src_app_components_installation_installation_module_ts"],{17375:(t,e,n)=>{n.r(e),n.d(e,{InstallationModule:()=>lt});var i=n(60136),a=n(52191),o=n(17602),r=n(14633),s=n(92240),l=n(71071),p=n(62143),c=n(97056),d=n(48810),u=n(89114),g=n(45361),m=n(29012),h=n(53850),f=n(11807),v=n(72986);let x=(()=>{class t{constructor(t,e,n){this.appState=t,this.authState=e,this.router=n}canActivate(){return m.bk.OK!==this.appState.imunifyStatus.value||(this.router.navigate(["/"],{replaceUrl:!0}),!1)}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275inject"](f.a),h["\u0275\u0275inject"](v.j),h["\u0275\u0275inject"](a.Router))},t.\u0275prov=h["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();var y=n(17951),S=n(15815),b=n(71670),w=n(34929),I=n(39749),_=n(92013),C=n(91792),M=n(64970),k=n(94564),O=n(21980),P=n(38699);function E(t,e){1&t&&h["\u0275\u0275element"](0,"mat-icon",6),2&t&&h["\u0275\u0275property"]("svgIcon","logo-imunify")}function B(t,e){1&t&&h["\u0275\u0275element"](0,"mat-icon",7),2&t&&h["\u0275\u0275property"]("svgIcon","logo-imunifyAV")}function L(t,e){if(1&t){const t=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"div",8)(1,"div",9)(2,"mat-icon",10),h["\u0275\u0275text"](3,"error_outline"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](4),h["\u0275\u0275pipe"](5,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"button",11),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](t);const e=h["\u0275\u0275nextContext"]();return h["\u0275\u0275resetView"](e.handleRetryBtnClick())}),h["\u0275\u0275element"](7,"mat-icon",12),h["\u0275\u0275text"](8),h["\u0275\u0275pipe"](9,"translate"),h["\u0275\u0275elementEnd"]()()}2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("round",!0),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](5,4,"installation.status.stopped")," "),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("primary",!0),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](9,6,"installation.status.retry")," "))}function A(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",13),h["\u0275\u0275element"](1,"spinner",14),h["\u0275\u0275text"](2),h["\u0275\u0275pipe"](3,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("primary",!0)("round",!0),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("show",!0),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](3,4,"installation.statusMessage")," "))}class j{constructor(t,e,n,i){this.cdr=t,this.appState=e,this.router=n,this.installationService=i,this.isAv=IMUNIFY_PACKAGE===I.GL.imunifyAV,this.AgentStatus=m.bk,this.isUpgrading=!1,this.isInstalling=!1,this.destroy$=new C.Subject,this.listenImunifyStatus()}ngOnDestroy(){this.destroy$.next()}handleRetryBtnClick(){var t=this;return(0,b.Z)(function*(){t.installationService.stopWatchingLog(),yield t.installationService.start(),"/installation/progress/log"===t.router.url&&t.installationService.startWatchingLog()})()}listenImunifyStatus(){this.appState.imunifyStatus.pipe((0,C.takeUntil)(this.destroy$)).subscribe(t=>{this.imunifyStatus=t,this.isInstalling=t===m.bk.INSTALLING,this.isUpgrading=t===m.bk.UPGRADING,this.cdr.markForCheck()})}}j.\u0275fac=function(t){return new(t||j)(h["\u0275\u0275directiveInject"](h.ChangeDetectorRef),h["\u0275\u0275directiveInject"](f.a),h["\u0275\u0275directiveInject"](a.Router),h["\u0275\u0275directiveInject"](y.Ln))},j.\u0275cmp=h["\u0275\u0275defineComponent"]({type:j,selectors:[["installation-header"]],decls:9,vars:7,consts:[[1,"installation-header"],["class","i360-logo",3,"svgIcon",4,"ngIf"],["class","i360-logo imunifyav-logo",3,"svgIcon",4,"ngIf"],[1,"i360-logo-description"],["class","installation-header_status-stopped",4,"ngIf"],["class","i360-progress","i360-button","",3,"primary","round",4,"ngIf"],[1,"i360-logo",3,"svgIcon"],[1,"i360-logo","imunifyav-logo",3,"svgIcon"],[1,"installation-header_status-stopped"],["i360-button","",1,"i360-stopped",3,"round"],["matPrefix",""],["i360-button","",1,"i360-retry",3,"primary","click"],["matPrefix","","fontSet","i360-icon","fontIcon","i360-icon-refresh"],["i360-button","",1,"i360-progress",3,"primary","round"],["color","white","matPrefix","",3,"show"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0)(1,"div"),h["\u0275\u0275template"](2,E,1,1,"mat-icon",1),h["\u0275\u0275template"](3,B,1,1,"mat-icon",2),h["\u0275\u0275elementStart"](4,"div",3),h["\u0275\u0275text"](5),h["\u0275\u0275pipe"](6,"translate"),h["\u0275\u0275elementEnd"]()(),h["\u0275\u0275template"](7,L,10,8,"div",4),h["\u0275\u0275template"](8,A,4,6,"div",5),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",!e.isAv||e.isUpgrading),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.isAv&&!e.isUpgrading),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](6,5,e.imunifyStatus!==e.AgentStatus.DOWNGRADING?"installation.start.logoDescription":"installation.downgrade.logoDescription")),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",e.imunifyStatus===e.AgentStatus.FAILED_TO_INSTALL),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.isInstalling||e.isUpgrading))},dependencies:[r.MatIcon,i.NgIf,M.I,k.MatPrefix,O.O,P.X$],styles:[".i360-app .installation-header {\n  display: flex;\n  justify-content: space-between;\n}\n.i360-app .installation-header .i360-logo-description {\n  font-size: 12px;\n  color: #8a8e95;\n  position: relative;\n  top: -10px;\n  left: 68px;\n  white-space: nowrap;\n}\n.i360-app .installation-header .installation-header_status-stopped {\n  display: flex;\n  flex-flow: row nowrap;\n}\n.i360-app .installation-header .i360-stopped {\n  display: flex;\n  align-items: center;\n  pointer-events: none;\n  border: 0;\n  box-shadow: 0 6px 9px 2px rgba(255, 76, 76, 0.36);\n  background-color: #fc7b7b;\n  color: white;\n}\n.ltr .i360-app .installation-header .i360-retry {\n  margin-left: 8px;\n}\n.rtl .i360-app .installation-header .i360-retry {\n  margin-right: 8px;\n}\n.i360-app .installation-header .i360-progress {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: none;\n  border: 0;\n  padding: 8px;\n  font-weight: 800;\n  box-shadow: 0 6px 6px 0 rgba(0, 0, 0, 0.13), 0 0 6px 0 rgba(0, 0, 0, 0.12);\n}\n.ltr .i360-app .installation-header .i360-progress spinner {\n  margin-right: 8px;\n}\n.rtl .i360-app .installation-header .i360-progress spinner {\n  margin-left: 8px;\n}"],encapsulation:2,changeDetection:0}),(0,w.gn)([_.U],j.prototype,"handleRetryBtnClick",null);let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],features:[h["\u0275\u0275ProvidersFeature"]([y.Ln])],decls:3,vars:0,consts:[["i360Loader",""]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275element"](1,"installation-header")(2,"router-outlet"),h["\u0275\u0275elementEnd"]())},dependencies:[a.RouterOutlet,S.e,j],encapsulation:2}),t})();var U=n(62471),T=n(82566),R=n(73281);function $(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"i360-message",5,6),h["\u0275\u0275text"](2),h["\u0275\u0275pipe"](3,"translate"),h["\u0275\u0275elementEnd"]()),2&t){const t=h["\u0275\u0275reference"](1);h["\u0275\u0275property"]("theme",t.Theme.blue),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](3,2,"installation.cancelled.messageText"),"\n")}}function D(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",7),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,"installation.log.title")))}function z(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",7),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,"installation.log.titleStopped")))}function F(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",8)(1,"div"),h["\u0275\u0275text"](2),h["\u0275\u0275pipe"](3,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"div")(5,"span"),h["\u0275\u0275text"](6),h["\u0275\u0275pipe"](7,"translateCut"),h["\u0275\u0275pipe"](8,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"a",9),h["\u0275\u0275text"](10),h["\u0275\u0275pipe"](11,"translateCut"),h["\u0275\u0275pipe"](12,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"span"),h["\u0275\u0275text"](14),h["\u0275\u0275pipe"](15,"translateCut"),h["\u0275\u0275pipe"](16,"translate"),h["\u0275\u0275elementEnd"]()()()),2&t&&(h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](3,4,"installation.cancelled.hint.retry")),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind2"](7,6,h["\u0275\u0275pipeBind1"](8,9,"installation.cancelled.hint.support"),0)),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind2"](11,11,h["\u0275\u0275pipeBind1"](12,14,"installation.cancelled.hint.support"),1)),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind2"](15,16,h["\u0275\u0275pipeBind1"](16,19,"installation.cancelled.hint.support"),2)))}let G=(()=>{class t{constructor(t,e){this.appState=t,this.installationService=e,this.AgentStatus=m.bk}ngOnInit(){this.installationService.startWatchingLog()}ngOnDestroy(){this.installationService.stopWatchingLog()}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](f.a),h["\u0275\u0275directiveInject"](y.Ln))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["installation-log"]],decls:10,vars:14,consts:[["icon","icon-info",3,"theme",4,"ngIf"],[3,"ngSwitch"],["role","heading",4,"ngSwitchCase"],[3,"log"],["class","installation-log_cancelled-hint",4,"ngIf"],["icon","icon-info",3,"theme"],["message",""],["role","heading"],[1,"installation-log_cancelled-hint"],["href","https://cloudlinux.zendesk.com/hc/en-us/requests/new",1,"i360-dashboard-link"]],template:function(t,e){1&t&&(h["\u0275\u0275template"](0,$,4,4,"i360-message",0),h["\u0275\u0275pipe"](1,"async"),h["\u0275\u0275elementContainerStart"](2,1),h["\u0275\u0275pipe"](3,"async"),h["\u0275\u0275template"](4,D,3,3,"div",2),h["\u0275\u0275template"](5,z,3,3,"div",2),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275element"](6,"i360-log-box",3),h["\u0275\u0275pipe"](7,"async"),h["\u0275\u0275template"](8,F,17,21,"div",4),h["\u0275\u0275pipe"](9,"async")),2&t&&(h["\u0275\u0275property"]("ngIf",h["\u0275\u0275pipeBind1"](1,6,e.appState.imunifyStatus)===e.AgentStatus.NOT_INSTALLED),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngSwitch",h["\u0275\u0275pipeBind1"](3,8,e.appState.imunifyStatus)),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngSwitchCase",e.AgentStatus.INSTALLING),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngSwitchCase",e.AgentStatus.STOPPED),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("log",h["\u0275\u0275pipeBind1"](7,10,e.installationService.accumulatedLog)),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",h["\u0275\u0275pipeBind1"](9,12,e.appState.imunifyStatus)===e.AgentStatus.NOT_INSTALLED))},dependencies:[i.NgIf,i.NgSwitch,i.NgSwitchCase,U.q,T.n,i.AsyncPipe,R.v,P.X$],styles:["i360-message[_ngcontent-%COMP%] {\n  align-items: center;\n}\n\n[role=heading][_ngcontent-%COMP%] {\n  margin: 26px 0;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: normal;\n}\n\n.installation-log_cancelled-hint[_ngcontent-%COMP%] {\n  margin-top: 24px;\n}\n\n.installation-log_cancelled-hint[_ngcontent-%COMP%]   .installation-log_cancelled-hint_retry[_ngcontent-%COMP%] {\n  color: #54b076;\n  text-decoration: underline;\n}"]}),t})();var W=n(35844);class V{constructor(t,e,n,i){this.router=t,this.route=e,this.loader=n,this.installationService=i}start(){var t=this;return(0,b.Z)(function*(){yield t.installationService.start(),t.router.navigate(["progress"],{relativeTo:t.route})})()}}V.\u0275fac=function(t){return new(t||V)(h["\u0275\u0275directiveInject"](a.Router),h["\u0275\u0275directiveInject"](a.ActivatedRoute),h["\u0275\u0275directiveInject"](S.e),h["\u0275\u0275directiveInject"](y.Ln))},V.\u0275cmp=h["\u0275\u0275defineComponent"]({type:V,selectors:[["ng-component"]],decls:36,vars:39,consts:[["svgIcon","shield",1,"i360-shield"],[1,"i360-wrapper"],[1,"i360-start-title"],[1,"i360-start-subtitle"],["color","primary","id","start-checkbox"],["eula",""],["href","https://www.imunify360.com/legal/eula","target","_blank",1,"i360-dashboard-link"],["i360-button","","id","start-button",3,"primary","disabled","click"],["icon","icon-info",3,"theme"],["message",""],[1,"i360-note"],[1,"i360-support"],["href","https://cloudlinux.zendesk.com/hc/requests/new","target","_blank",1,"i360-dashboard-link"],["fontSet","i360-icon","fontIcon","i360-icon-arrow-right"]],template:function(t,e){if(1&t&&(h["\u0275\u0275element"](0,"mat-icon",0),h["\u0275\u0275elementStart"](1,"div",1)(2,"div",2),h["\u0275\u0275text"](3),h["\u0275\u0275pipe"](4,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",3),h["\u0275\u0275text"](6),h["\u0275\u0275pipe"](7,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"mat-checkbox",4,5),h["\u0275\u0275text"](10),h["\u0275\u0275pipe"](11,"translateCut"),h["\u0275\u0275pipe"](12,"translate"),h["\u0275\u0275elementStart"](13,"a",6),h["\u0275\u0275text"](14),h["\u0275\u0275pipe"](15,"translateCut"),h["\u0275\u0275pipe"](16,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](17),h["\u0275\u0275pipe"](18,"translateCut"),h["\u0275\u0275pipe"](19,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](20,"button",7),h["\u0275\u0275listener"]("click",function(){return e.start()}),h["\u0275\u0275text"](21),h["\u0275\u0275pipe"](22,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](23,"i360-message",8,9)(25,"div",10),h["\u0275\u0275text"](26),h["\u0275\u0275pipe"](27,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](28,"div"),h["\u0275\u0275text"](29),h["\u0275\u0275pipe"](30,"translate"),h["\u0275\u0275elementEnd"]()(),h["\u0275\u0275elementStart"](31,"div",11)(32,"a",12),h["\u0275\u0275element"](33,"mat-icon",13),h["\u0275\u0275text"](34),h["\u0275\u0275pipe"](35,"translate"),h["\u0275\u0275elementEnd"]()()()),2&t){const t=h["\u0275\u0275reference"](9),e=h["\u0275\u0275reference"](24);h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](4,12,"installation.start.title")),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](7,14,"installation.start.subtitle")),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind2"](11,16,h["\u0275\u0275pipeBind1"](12,19,"installation.start.checkbox"),0)," "),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind2"](15,21,h["\u0275\u0275pipeBind1"](16,24,"installation.start.checkbox"),1)," "),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind2"](18,26,h["\u0275\u0275pipeBind1"](19,29,"installation.start.checkbox"),2)," "),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("primary",!0)("disabled",!t.checked),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](22,31,"installation.start.buttonText")," "),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("theme",e.Theme.white),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](27,33,"installation.start.note")),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](30,35,"installation.start.noteDescription")),h["\u0275\u0275advance"](5),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](35,37,"installation.start.support")," ")}},dependencies:[s.MatCheckbox,r.MatIcon,M.I,U.q,R.v,P.X$],styles:["[_nghost-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin-top: 70px;\n  justify-content: center;\n}\n\n.i360-shield[_ngcontent-%COMP%] {\n  margin: 0 40px 40px;\n  height: 300px;\n  flex-basis: 300px;\n}\n\n.i360-wrapper[_ngcontent-%COMP%] {\n  flex-grow: 1;\n  margin: 0 30px;\n  flex-basis: 500px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.i360-start-title[_ngcontent-%COMP%] {\n  font-size: 24px;\n  font-weight: 600;\n  line-height: 1.79;\n  color: #1d1d1d;\n}\n\n.i360-start-subtitle[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 1.79;\n  color: #1d1d1d;\n}\n\nmat-checkbox[_ngcontent-%COMP%] {\n  display: block;\n  margin-top: 25px;\n  color: #535353;\n}\n\nmat-checkbox[_ngcontent-%COMP%]     label {\n  white-space: normal;\n}\n\nbutton[_ngcontent-%COMP%] {\n  margin-top: 20px;\n  min-width: 195px;\n}\n\ni360-message[_ngcontent-%COMP%] {\n  margin-top: 40px;\n}\n\ni360-message[_ngcontent-%COMP%]     .i360-note {\n  font-weight: 600;\n}\n\n.i360-support[_ngcontent-%COMP%] {\n  margin-top: 60px;\n  color: #535353;\n}\n\n.i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited {\n  color: #535353;\n}\n\n.i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  color: #11cb84;\n}\n\n.ltr[_nghost-%COMP%]   .i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .ltr   [_nghost-%COMP%]   .i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n\n.rtl[_nghost-%COMP%]   .i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .i360-support[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}"]}),(0,w.gn)([_.U],V.prototype,"start",null);var Y=n(86375),q=n(26203);function X(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"a",4),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,"installation.tabs.features")," "))}function H(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"a",5),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,"installation.tabs.log")," "))}function K(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"a",6),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,"installation.tabs.log")," "))}function Q(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"i360-tabs"),h["\u0275\u0275template"](1,X,3,3,"a",1),h["\u0275\u0275template"](2,H,3,3,"a",2),h["\u0275\u0275template"](3,K,3,3,"a",3),h["\u0275\u0275elementEnd"]()),2&t){const t=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",t.is360||t.isUpgrading),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!t.isUpgrading),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",t.isUpgrading&&t.showLog)}}let J=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.authState=e,this.appState=n,this.installationBackendService=i,this.isAdmin=!1,this.isUpgrading=!1,this.showLog=!1,this.is360=IMUNIFY_PACKAGE===I.GL.imunify360,this.destroy$=new C.Subject,this.checkShowTabs()}ngOnDestroy(){this.destroy$.next()}checkShowTabs(){this.authState.isAdmin.pipe((0,C.combineLatestWith)(this.appState.imunifyStatus),(0,C.takeUntil)(this.destroy$)).subscribe(([t,e])=>{this.isUpgrading=e===m.bk.UPGRADING,this.isAdmin=t,this.isUpgrading&&this.checkUpgradeLogIsAvailable(),this.cdr.markForCheck()})}checkUpgradeLogIsAvailable(){this.installationBackendService.upgradeStatus({offset:0,limit:1}).pipe((0,C.takeUntil)(this.destroy$)).subscribe({next:t=>{this.showLog=!t.data.items?.log?.includes("Error reading file i360deploy.log"),this.cdr.markForCheck()},error:()=>{this.showLog=!1,this.cdr.markForCheck()}})}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](h.ChangeDetectorRef),h["\u0275\u0275directiveInject"](v.j),h["\u0275\u0275directiveInject"](f.a),h["\u0275\u0275directiveInject"](Y.E))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["installation-tabs"]],decls:2,vars:1,consts:[[4,"ngIf"],["routerLink","slides","routerLinkActive","active","id","i360-slides-tab",4,"ngIf"],["routerLink","log","routerLinkActive","active","id","i360-log-tab",4,"ngIf"],["routerLink","upgrade-log","routerLinkActive","active","id","i360-upgrade-log-tab",4,"ngIf"],["routerLink","slides","routerLinkActive","active","id","i360-slides-tab"],["routerLink","log","routerLinkActive","active","id","i360-log-tab"],["routerLink","upgrade-log","routerLinkActive","active","id","i360-upgrade-log-tab"]],template:function(t,e){1&t&&(h["\u0275\u0275template"](0,Q,4,3,"i360-tabs",0),h["\u0275\u0275element"](1,"router-outlet")),2&t&&h["\u0275\u0275property"]("ngIf",e.isAdmin)},dependencies:[a.RouterOutlet,a.RouterLinkWithHref,a.RouterLinkActive,i.NgIf,q.n,P.X$],styles:["[_nghost-%COMP%] {\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 38px 43px;\n  background: white;\n}\n\ninstallation-header[_ngcontent-%COMP%] {\n  margin-bottom: 46px;\n}\n\ni360-tabs[_ngcontent-%COMP%] {\n  margin-bottom: 24px;\n}"],changeDetection:0}),t})();var Z=n(13336),tt=n(5705);function et(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"div",3),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementStart"](3,"a",4),h["\u0275\u0275text"](4),h["\u0275\u0275pipe"](5,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](6),h["\u0275\u0275pipe"](7,"translate"),h["\u0275\u0275elementStart"](8,"a",5),h["\u0275\u0275text"](9),h["\u0275\u0275pipe"](10,"translate"),h["\u0275\u0275elementEnd"]()()),2&t){const t=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,5,"stoppedService.message")," "),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("href",t.is360Package?t.docsI360Link:t.docsAvLink,h["\u0275\u0275sanitizeUrl"]),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](5,7,"stoppedService.guide")," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](7,9,"stoppedService.or")," "),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](10,11,"stoppedService.support")," ")}}let nt=(()=>{class t{constructor(t,e,n){this.authState=t,this.appState=e,this.xhr=n,this.is360Package=IMUNIFY_PACKAGE===I.GL.imunify360,this.docsAvLink="https://docs.imunifyav.com/faq_and_known_issues/#imunify-agent-is-not-running-troubleshooting",this.docsI360Link="https://docs.imunify360.com/faq_and_known_issues/#_23-imunify-agent-is-not-running-troubleshooting",this.destroyed=new C.Subject}ngOnInit(){(0,C.timer)(0).pipe((0,C.switchMap)(()=>this.xhr.post(I.Lb.version())),(0,C.catchError)(()=>C.EMPTY),(0,C.repeatWhen)(t=>t.pipe((0,C.switchMap)(()=>(0,C.timer)(1e4)))),(0,C.takeUntil)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](v.j),h["\u0275\u0275directiveInject"](f.a),h["\u0275\u0275directiveInject"](Z.K))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["stopped-service"]],decls:5,vars:6,consts:[[1,"i360-stopped-wrapper"],[3,"title"],["class","message-text",4,"ngIf"],[1,"message-text"],["target","_blank",1,"i360-dashboard-link",3,"href"],["href","https://cloudlinux.zendesk.com/hc/requests/new","target","_blank",1,"i360-dashboard-link"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0)(1,"blocked-ui-message",1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275template"](3,et,11,13,"div",2),h["\u0275\u0275pipe"](4,"async"),h["\u0275\u0275elementEnd"]()()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("title",h["\u0275\u0275pipeBind1"](2,2,"stoppedService.title")),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",h["\u0275\u0275pipeBind1"](4,4,e.authState.isAdmin)))},dependencies:[i.NgIf,tt.F,i.AsyncPipe,P.X$],styles:[".i360-stopped-wrapper[_ngcontent-%COMP%] {\n  margin-top: 100px;\n}\n.i360-stopped-wrapper[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%] {\n  font-size: 16px;\n}"]}),t})();let it=(()=>{class t{constructor(t){this.installationBackendService=t,this.accumulatedLog=new C.BehaviorSubject([]),this.offset=0,this.destroy$=new C.Subject,this.startPollingUpgradeStatus()}ngOnDestroy(){this.destroy$.next()}startPollingUpgradeStatus(){(0,C.timer)(0).pipe((0,C.switchMap)(()=>this.installationBackendService.upgradeStatus({offset:this.offset,limit:y.x9})),(0,C.tap)(t=>{const e=t.data.items;this.offset=e.offset;const n=e.log;n&&this.accumulatedLog.next(this.accumulatedLog.getValue().concat([{text:n}]))}),(0,C.catchError)(()=>(0,C.timer)(2e3)),(0,C.repeat)({delay:2e3}),(0,C.takeUntil)(this.destroy$)).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](Y.E))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["upgrade-log"]],decls:5,vars:6,consts:[["role","heading"],[3,"log"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"translate"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](3,"i360-log-box",1),h["\u0275\u0275pipe"](4,"async")),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,2,"installation.log.title")),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("log",h["\u0275\u0275pipeBind1"](4,4,e.accumulatedLog)))},dependencies:[T.n,i.AsyncPipe,P.X$],styles:["[role=heading][_ngcontent-%COMP%] {\n  margin: 26px 0;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: normal;\n}"],changeDetection:0}),t})();const at=[{path:"",component:N,canActivate:[x],children:[{path:"",pathMatch:"full",component:V},{path:"stopped-service",component:nt},{path:"downgrading",component:(()=>{class t{constructor(t,e){this.router=t,this.installationBackendService=e,this.destroy$=new C.Subject,this.offset=0,this.startPollingStatus()}ngOnDestroy(){this.destroy$.next()}startPollingStatus(){(0,C.timer)(0).pipe((0,C.switchMap)(()=>this.installationBackendService.status({offset:0,limit:1})),(0,C.catchError)(()=>(0,C.timer)(y.in)),(0,C.repeat)({delay:y.in}),(0,C.takeUntil)(this.destroy$)).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](a.Router),h["\u0275\u0275directiveInject"](Y.E))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["installation-downgrading"]],decls:2,vars:1,consts:[[1,"installation-downgrading__container"],["color","green",3,"show"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275element"](1,"spinner",1),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("show",!0))},dependencies:[O.O],styles:[".installation-downgrading__container[_ngcontent-%COMP%] {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n            min-height: 320px;\n        }"],changeDetection:0}),t})()},{path:"progress",component:J,children:[{path:"",pathMatch:"full",redirectTo:"slides"},{path:"log",component:G},{path:"slides",component:W.sY},{path:"upgrade-log",component:it}]}]}];let ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=h["\u0275\u0275defineInjector"]({imports:[a.RouterModule.forChild(at),a.RouterModule]}),t})();var rt=n(18102),st=n(57101);let lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=h["\u0275\u0275defineInjector"]({providers:[x,y.Ln],imports:[ot,s.MatCheckboxModule,r.MatIconModule,o.MatButtonModule,i.CommonModule,u.S,p.V,l.L,d.l,c.z,rt.v,g.z,st.X,a.RouterModule]}),t})()},17951:(t,e,n)=>{n.d(e,{Ln:()=>d,in:()=>p,x9:()=>c});var i=n(91792),a=n(29012),o=n(53850),r=n(52191),s=n(11807),l=n(86375);const p=5e3,c=1048576;let d=(()=>{class t{constructor(t,e,n){this.router=t,this.appState=e,this.installationBackendService=n,this.accumulatedLog=new i.BehaviorSubject([]),this.shownSlidesCount=0,this.logCollector$=(0,i.timer)(0).pipe((0,i.switchMap)(()=>this.installationBackendService.status({offset:this.offset,limit:c})),(0,i.tap)(t=>{const e=t.data.items,n=e.offset-this.offset;this.offset=e.offset;const i=e.log;i&&this.accumulatedLog.next(this.accumulatedLog.getValue().concat([{text:i}])),0===n&&this.appState.imunifyStatus.value!==a.bk.INSTALLING&&this.stopWatchingLog(),this.appState.imunifyStatus.value===a.bk.OK&&this.router.navigate(["/"],{replaceUrl:!0})}),(0,i.catchError)(()=>(0,i.timer)(3e3)),(0,i.repeat)({delay:3e3})),this.statusWatcher$=(0,i.timer)(0).pipe((0,i.switchMap)(()=>this.installationBackendService.status({offset:this.offset,limit:c})),(0,i.tap)(t=>{this.appState.imunifyStatus.value!==a.bk.INSTALLING&&this.stopWatchingStatus()}),(0,i.catchError)(()=>(0,i.timer)(p)),(0,i.repeat)({delay:p})),this.logCollectorSubscription=i.Subscription.EMPTY,this.statusCollectorSubscription=i.Subscription.EMPTY,this.offset=0}start(){return this.offset=0,this.accumulatedLog.next([]),(0,i.firstValueFrom)(this.installationBackendService.start(),{defaultValue:void 0})}startWatchingLog(){this.logCollectorSubscription=this.logCollector$.subscribe()}startWatchingStatus(){this.statusCollectorSubscription=this.statusWatcher$.subscribe()}stopWatchingLog(){this.logCollectorSubscription.unsubscribe()}stopWatchingStatus(){this.statusCollectorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](r.Router),o["\u0275\u0275inject"](s.a),o["\u0275\u0275inject"](l.E))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})()},35844:(t,e,n)=>{n.d(e,{sY:()=>k,yc:()=>C});var i=n(53850),a=n(15237),o=n(39749),r=n(91792),s=n(29012),l=n(72986),p=n(86375),c=n(11807),d=n(17951),u=n(60136),g=n(67916),m=n(38699);const h=["installationSlide"];function f(t,e){}function v(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6)(1,"div",7)(2,"div",8),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",9),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"]()(),i["\u0275\u0275element"](8,"preview-screenshot",10),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,3,"installation.dashboard.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,5,"installation.dashboard.text")," "))}function x(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275element"](1,"preview-screenshot",11),i["\u0275\u0275elementStart"](2,"div",7)(3,"div",8),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",9),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"]()()()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,3,"installation.firewall.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,5,"installation.firewall.text")," "))}function y(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6)(1,"div",7)(2,"div",8),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",9),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"]()(),i["\u0275\u0275element"](8,"preview-screenshot",12),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,3,"installation.malware.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,5,"installation.malware.text")," "))}function S(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275element"](1,"preview-screenshot",13),i["\u0275\u0275elementStart"](2,"div",7)(3,"div",8),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",9),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"]()()()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,3,"installation.proactive.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,5,"installation.proactive.text")," "))}function b(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6)(1,"div",7)(2,"div",8),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",14)(6,"div")(7,"div",15),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",9),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"]()(),i["\u0275\u0275elementStart"](13,"div")(14,"div",15),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",9),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"]()()()()()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,6,"installation.patch.title")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](9,8,"installation.patch.subtitle1")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](12,10,"installation.patch.text1")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](16,12,"installation.patch.subtitle2")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](19,14,"installation.patch.text2")))}function w(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",6)(1,"div",7)(2,"div",8),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",9),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"]()()()),2&t&&(i["\u0275\u0275property"]("@enterAnimation",void 0),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,3,"installation.reputation.title")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,5,"installation.reputation.text")," "))}function I(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275template"](1,f,0,0,"ng-template",4),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275template"](3,v,9,7,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](5,x,9,7,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](7,y,9,7,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](9,S,9,7,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](11,b,20,16,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](13,w,8,7,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",i["\u0275\u0275pipeBind1"](2,1,t.activeSlide$))}}function _(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"installation.textForUser")))}const C=2e4,M=.15*C;let k=(()=>{class t{constructor(t,e,n,i){this.authState=t,this.installationBackendService=e,this.appState=n,this.installationService=i,this.activeSlide$=(0,r.timer)(0,C).pipe((0,r.map)(()=>{const t=this.installationService.shownSlidesCount%this.slides.length;return this.slides.toArray()[t]}),(0,r.tap)(()=>{this.installationService.shownSlidesCount+=1})),this.isAv=IMUNIFY_PACKAGE===o.GL.imunifyAV,this.AgentStatus=s.bk,this.destroyed=new r.Subject,this.startPollingStatus()}ngOnDestroy(){this.installationService.shownSlidesCount-=1,this.destroyed.next(),this.destroyed.complete()}startPollingStatus(){const t=this.installationBackendService.status({offset:0,limit:1},!1,!1);(0,r.timer)(0).pipe((0,r.switchMap)(()=>t),(0,r.catchError)(()=>r.EMPTY),(0,r.repeat)({delay:5e3}),(0,r.takeUntil)(this.destroyed)).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](l.j),i["\u0275\u0275directiveInject"](p.E),i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](d.Ln))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["installation-slider"]],viewQuery:function(t,e){if(1&t&&i["\u0275\u0275viewQuery"](h,5),2&t){let t;i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.slides=t)}},decls:6,vars:6,consts:[[1,"i360-installation-wrapper"],["class","i360-installation-slider-wrapper",4,"ngIf","ngIfElse"],["textForUser",""],[1,"i360-installation-slider-wrapper"],[3,"ngTemplateOutlet"],["installationSlide",""],[1,"i360-slide"],[1,"i360-preview-info"],["role","heading","aria-level","1"],[1,"i360-paragraph"],["screenshotName","dashboard-preview"],["screenshotName","license-extension-preview"],["screenshotName","malware-scanner-preview"],["screenshotName","proactive-preview"],[1,"i360-just-text"],["role","heading","aria-level","2"],["id","text-for-user",1,"i360-paragraph"]],template:function(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,I,15,3,"div",1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275template"](4,_,3,3,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275reference"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,2,e.authState.isAdmin)&&(!e.isAv||i["\u0275\u0275pipeBind1"](3,4,e.appState.imunifyStatus)===e.AgentStatus.UPGRADING))("ngIfElse",t)}},dependencies:[u.NgIf,u.NgTemplateOutlet,g.D,u.AsyncPipe,m.X$],styles:['.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide {\n  margin: 0 -20px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide > *:first-child {\n  margin-bottom: 20px;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide preview-screenshot {\n  flex-basis: 540px;\n  flex-grow: 1;\n  padding: 20px;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-paragraph, .i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info [aria-level="2"] {\n  line-height: 1.69;\n  font-size: 13px;\n  color: #555;\n  white-space: pre-line;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info {\n  display: inline;\n  font-size: 13px;\n  flex-basis: 360px;\n  flex-grow: 1;\n  padding: 20px;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info [aria-level="1"] {\n  font-size: 24px;\n  font-weight: bold;\n  margin-bottom: 21px;\n  color: #535353;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info [aria-level="2"] {\n  font-weight: bold;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info .i360-just-text {\n  display: flex;\n  flex-wrap: wrap;\n}\n.i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info .i360-just-text > div {\n  flex-basis: 360px;\n  flex-grow: 1;\n  margin-bottom: 20px;\n}\n.ltr .i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info .i360-just-text > div:first-child {\n  margin-right: 70px;\n}\n.rtl .i360-app .i360-installation-wrapper .i360-installation-slider-wrapper .i360-slide .i360-preview-info .i360-just-text > div:first-child {\n  margin-left: 70px;\n}'],encapsulation:2,data:{animation:[(0,a.trigger)("enterAnimation",[(0,a.transition)(":enter",[(0,a.style)({opacity:0}),(0,a.animate)(`${M}ms`,(0,a.style)({opacity:1})),(0,a.animate)(`${M}ms ${C-2*M}ms`,(0,a.style)({opacity:0}))])])]}}),t})()},5705:(t,e,n)=>{n.d(e,{F:()=>r});var i=n(53850),a=n(14633);const o=["*"];let r=(()=>{class t{constructor(){this.title=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["blocked-ui-message"]],inputs:{title:"title"},ngContentSelectors:o,decls:5,vars:1,consts:[[1,"blocked-ui-message"],["svgIcon","logo-grey",1,"logo-grey"],["role","heading","aria-level","1"]],template:function(t,e){1&t&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"mat-icon",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275projection"](4),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.title))},dependencies:[a.MatIcon],styles:[".blocked-ui-message[_ngcontent-%COMP%] {\n  text-align: center;\n  max-width: 100%;\n}\n.blocked-ui-message[_ngcontent-%COMP%]   div[role=heading][_ngcontent-%COMP%] {\n  font-size: 22px;\n  margin: 0;\n  line-height: 2.44;\n}\n.blocked-ui-message[_ngcontent-%COMP%]   .logo-grey[_ngcontent-%COMP%] {\n  margin: 0 auto;\n  width: 80px;\n  height: 80px;\n}"]}),t})()},18102:(t,e,n)=>{n.d(e,{v:()=>r});var i=n(60136),a=n(14633),o=n(53850);let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[i.CommonModule,a.MatIconModule]}),t})()},82566:(t,e,n)=>{n.d(e,{n:()=>s});var i=n(53850),a=n(60136);const o=["logOutput"];function r(t,e){if(1&t&&i["\u0275\u0275element"](0,"span",4),2&t){const t=e.$implicit;i["\u0275\u0275property"]("innerHTML",t.text,i["\u0275\u0275sanitizeHtml"])}}let s=(()=>{class t{set log(t){this._log=t,setTimeout(()=>this.scrollToBottom())}get log(){return this._log}scrollToBottom(){this.logOutput.nativeElement.scrollTop=this.logOutput.nativeElement.scrollHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["i360-log-box"]],viewQuery:function(t,e){if(1&t&&i["\u0275\u0275viewQuery"](o,7),2&t){let t;i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.logOutput=t.first)}},inputs:{log:"log"},decls:4,vars:1,consts:[[1,"log_output"],["logOutput",""],[1,"inner_log_output"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0,1)(2,"div",2),i["\u0275\u0275template"](3,r,1,1,"span",3),i["\u0275\u0275elementEnd"]()()),2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.log))},dependencies:[a.NgForOf],styles:[".log_output[_ngcontent-%COMP%] {\n  border: solid 1px #e8e8e8;\n  margin-bottom: 29px;\n  height: 290px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  scroll-behavior: smooth;\n}\n.ltr[_nghost-%COMP%]   .log_output[_ngcontent-%COMP%], .ltr   [_nghost-%COMP%]   .log_output[_ngcontent-%COMP%] {\n  padding: 16px 29px 22px 20px;\n}\n.rtl[_nghost-%COMP%]   .log_output[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .log_output[_ngcontent-%COMP%] {\n  padding: 16px 20px 22px 29px;\n}\n.inner_log_output[_ngcontent-%COMP%] {\n  font-family: monospace, monospace;\n  font-size: 13px;\n  color: #333333;\n  white-space: pre-line;\n  word-break: break-word;\n}"]}),t})()},57101:(t,e,n)=>{n.d(e,{X:()=>o});var i=n(60136),a=n(53850);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[i.CommonModule]}),t})()},97056:(t,e,n)=>{n.d(e,{z:()=>a});var i=n(53850);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({}),t})()},67916:(t,e,n)=>{n.d(e,{D:()=>r});var i=n(53850),a=n(38949),o=n(35931);let r=(()=>{class t{constructor(){this.screenshotName=""}ngOnChanges(t){"screenshotName"in t&&(this.imagePath=`${(0,a.al)()}/${o.f.OTHER_ROOT}/${this.screenshotName}.png`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["preview-screenshot"]],inputs:{screenshotName:"screenshotName"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:6,vars:1,consts:[[1,"buy_license_screenshot"],[1,"screenshot_toolbar"],[1,"screenshot_button"],[3,"src"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0)(1,"div",1),i["\u0275\u0275element"](2,"span",2)(3,"span",2)(4,"span",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"img",3),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("src",e.imagePath,i["\u0275\u0275sanitizeUrl"]))},styles:["[_nghost-%COMP%] {\n  display: inline-block;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%] {\n  border: 1px solid #f4f5f7;\n  border-radius: 10px 10px 0 0;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   .screenshot_toolbar[_ngcontent-%COMP%] {\n  display: block;\n  height: 29px;\n  background: #f4f5f7;\n  border-radius: 10px 10px 0 0;\n  margin-bottom: 20px;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   .screenshot_toolbar[_ngcontent-%COMP%]   .screenshot_button[_ngcontent-%COMP%] {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  margin: 10px 2px;\n  border-radius: 8px;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   .screenshot_toolbar[_ngcontent-%COMP%]   .screenshot_button[_ngcontent-%COMP%]:nth-child(1) {\n  margin-left: 15px;\n  background: #ff635a;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   .screenshot_toolbar[_ngcontent-%COMP%]   .screenshot_button[_ngcontent-%COMP%]:nth-child(2) {\n  background: #febb2e;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   .screenshot_toolbar[_ngcontent-%COMP%]   .screenshot_button[_ngcontent-%COMP%]:nth-child(3) {\n  background: #2fc843;\n}\n\n.buy_license_screenshot[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 5px;\n}"]}),t})()}}]);
//# sourceMappingURL=src_app_components_installation_installation_module_ts.a56ebed4fe257f74.js.map