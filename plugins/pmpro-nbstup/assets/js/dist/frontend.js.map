{"version":3,"sources":["frontend.js"],"names":["window","document","sidebar","querySelector","updateActiveNavLink","navLinks","querySelectorAll","scrollPosition","pageYOffset","forEach","link","targetTop","targetId","getAttribute","slice","target","getElementById","targetBottom","offsetTop","offsetHeight","classList","add","remove","addEventListener","event","closest","preventDefault","scrollTo","top","getBoundingClientRect","behavior"],"mappings":"CAIA,CAAAA,EAAAC,KAGA,IAAAC,EAAAD,EAAAE,cAAA,+BAAA,EA2BA,SAAAC,IACA,IAAAC,EAAAH,EAAAI,iBAAA,wCAAA,EACAC,EAAAP,EAAAQ,YAAA,IAEAH,EAAAI,QAAA,SAAAC,GACA,IAGAC,EAHAC,EAAAF,EAAAG,aAAA,MAAA,EAAAC,MAAA,CAAA,EACAC,EAAAd,EAAAe,eAAAJ,CAAA,EACAG,IAEAE,GADAN,EAAAI,EAAAG,WACAH,EAAAI,aAEAR,GAAAJ,GAAAA,EAAAU,EACAP,EAAAU,UAAAC,IAAA,QAAA,EAEAX,EAAAU,UAAAE,OAAA,QAAA,EAGA,CAAA,CACA,CA5CApB,IAKAA,EAAAqB,iBAAA,QAAA,SAAAC,GACA,IAAAd,EAAAc,EAAAT,OAAAU,QAAA,cAAA,EACAf,IAIAE,EAAAF,EAAAG,aAAA,MAAA,EAAAC,MAAA,CAAA,EACAC,EAAAd,EAAAe,eAAAJ,CAAA,KAKAY,EAAAE,eAAA,EAEA1B,EAAA2B,SAAA,CACAC,IAAAb,EAAAc,sBAAA,EAAAD,IAAA5B,EAAAQ,YAAA,GACAsB,SAAA,QACA,CAAA,EACA,CAAA,EAwBA9B,EAAAuB,iBAAA,SAAAnB,CAAA,EACAJ,EAAAuB,iBAAA,OAAAnB,CAAA,EAEA,GAAAJ,OAAAC,QAAA","file":"frontend.js","sourcesContent":["// Frontend JS for NBSTUP account layout.\r\n// This file is processed by Gulp into `assets/js/dist/frontend.js`.\r\n// Add any interactive behavior for the left menu / account layout here.\r\n\r\n(function (window, document) {\r\n  'use strict';\r\n\r\n  var sidebar = document.querySelector('.pmpro-nbstup-account-sidebar');\r\n  if (!sidebar) {\r\n    return;\r\n  }\r\n\r\n  // Smooth scroll for in-page anchor links inside the NBSTUP menu.\r\n  sidebar.addEventListener('click', function (event) {\r\n    var link = event.target.closest('a[href^=\"#\"]');\r\n    if (!link) {\r\n      return;\r\n    }\r\n\r\n    var targetId = link.getAttribute('href').slice(1);\r\n    var target = document.getElementById(targetId);\r\n    if (!target) {\r\n      return;\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    window.scrollTo({\r\n      top: target.getBoundingClientRect().top + window.pageYOffset - 80,\r\n      behavior: 'smooth'\r\n    });\r\n  });\r\n\r\n  // Function to update active navigation link based on scroll position\r\n  function updateActiveNavLink() {\r\n    var navLinks = sidebar.querySelectorAll('.pmpro-nbstup-account-nav a[href^=\"#\"]');\r\n    var scrollPosition = window.pageYOffset + 100; // Offset for header\r\n\r\n    navLinks.forEach(function(link) {\r\n      var targetId = link.getAttribute('href').slice(1);\r\n      var target = document.getElementById(targetId);\r\n      if (target) {\r\n        var targetTop = target.offsetTop;\r\n        var targetBottom = targetTop + target.offsetHeight;\r\n\r\n        if (scrollPosition >= targetTop && scrollPosition < targetBottom) {\r\n          link.classList.add('active');\r\n        } else {\r\n          link.classList.remove('active');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Update active link on scroll and on load\r\n  window.addEventListener('scroll', updateActiveNavLink);\r\n  window.addEventListener('load', updateActiveNavLink);\r\n\r\n})(window, document);\r\n\r\n"]}