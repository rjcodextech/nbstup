((t,i)=>{var n=i.querySelector(".pmpro-nbstup-account-sidebar");function e(){var e=n.querySelectorAll('.pmpro-nbstup-account-nav a[href^="#"]'),a=t.pageYOffset+100;e.forEach(function(e){var n,t=e.getAttribute("href").slice(1),t=i.getElementById(t);t&&(t=(n=t.offsetTop)+t.offsetHeight,n<=a&&a<t?e.classList.add("active"):e.classList.remove("active"))})}n&&(n.addEventListener("click",function(e){var n=e.target.closest('a[href^="#"]');n&&(n=n.getAttribute("href").slice(1),n=i.getElementById(n))&&(e.preventDefault(),t.scrollTo({top:n.getBoundingClientRect().top+t.pageYOffset-80,behavior:"smooth"}))}),t.addEventListener("scroll",e),t.addEventListener("load",e))})(window,document),jQuery(document).ready(function(n){var e,a,i;n("#user_state").length&&(e=n("#user_state"),a=n("#user_district"),i=n("#user_block"),e.on("change",function(){var e=n(this).val();a.html('<option value="">Select State First</option>').prop("disabled",!0),i.html('<option value="">Select District First</option>').prop("disabled",!0),e&&n.ajax({url:pmpro_nbstup_ajax.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_districts",state_id:e,nonce:pmpro_nbstup_ajax.nonce},beforeSend:function(){a.html('<option value="">Loading...</option>')},success:function(e){var t;e.success&&0<e.data.length?(t='<option value="">Select District</option>',n.each(e.data,function(e,n){t+='<option value="'+n.id+'">'+n.name+"</option>"}),a.html(t).prop("disabled",!1)):a.html('<option value="">No districts available</option>')},error:function(){a.html('<option value="">Error loading districts</option>')}})}),a.on("change",function(){var e=n(this).val();i.html('<option value="">Select District First</option>').prop("disabled",!0),e&&n.ajax({url:pmpro_nbstup_ajax.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_blocks",district_id:e,nonce:pmpro_nbstup_ajax.nonce},beforeSend:function(){i.html('<option value="">Loading...</option>')},success:function(e){var t;e.success&&0<e.data.length?(t='<option value="">Select Block</option>',n.each(e.data,function(e,n){t+='<option value="'+n.id+'">'+n.name+"</option>"}),i.html(t).prop("disabled",!1)):i.html('<option value="">No blocks available</option>')},error:function(){i.html('<option value="">Error loading blocks</option>')}})}))}),jQuery(document).ready(function(e){var n=e("#select-all");n.length&&n.on("change",function(){e('input[name="user_ids[]"]').prop("checked",this.checked)})}),jQuery(document).ready(function(s){var r,o,p,l,d,m,u,c,_,f,b,g,e=s("#pmpro_form_fieldset-member-details");function n(){var e=s.trim(r.val()).replace(/\D+/g,""),n=s.trim(o.val()||""),t=s.trim(p.val()||""),a=l.val()||"",n=n?n.split(/\s+/):[],i=n.length?n[0]:"",n=1<n.length?n.slice(1).join(" "):"",e=(d.length&&d.val(e),m.length&&m.val(a),u.length&&u.val(a),(a=e)?a+"@nbstup.com":"");c.length&&c.val(e),_.length&&_.val(e),f.length&&f.val(i),b.length&&b.val(n),g.length&&g.val(t)}e.length&&(r=e.find("#aadhar_number"),o=e.find("#member_name"),p=e.find("#phone_no"),l=e.find("#member_password"),d=s("#pmpro_user_fields #username"),m=s("#pmpro_user_fields #password"),u=s("#pmpro_user_fields #password2"),c=s("#pmpro_user_fields #bemail"),_=s("#pmpro_user_fields #bconfirmemail"),f=s("#pmpro_billing_address_fields #bfirstname"),b=s("#pmpro_billing_address_fields #blastname"),g=s("#pmpro_billing_address_fields #bphone"),e.on("input change","#aadhar_number, #member_password, #member_name, #phone_no",n),n());e=s(".pmpro-nbstup-login-tabs");function v(e,n){e.closest(".pmpro-nbstup-login-panel").find(".pmpro-nbstup-login-message").removeAttr("hidden").text(n)}function h(e,n){e.find('button[type="submit"]').prop("disabled",n),e.toggleClass("is-loading",n)}function y(e){e&&e.length&&(e.find(".pmpro-nbstup-member-login__field").removeClass("has-error"),e.find(".pmpro-nbstup-field-error").remove(),e.find(".pmpro-nbstup-member-login__input").removeAttr("aria-invalid aria-describedby"))}function w(e,n,t){var a=n.closest(".pmpro-nbstup-member-login__field"),i=n.attr("name")||"field",e="pmpro-nbstup-"+(e.data("login-type")||"login")+"-"+i+"-error";a.addClass("has-error"),n.attr("aria-invalid","true").attr("aria-describedby",e),a.find("#"+e).length||s("<div/>",{class:"pmpro-nbstup-field-error",id:e,text:t}).appendTo(a)}e.length&&"undefined"!=typeof pmpro_nbstup_login&&(e.each(function(){var t=s(this);t.find(".pmpro-nbstup-login-panel").not(".is-active").attr("hidden",!0),t.on("click",".pmpro-nbstup-login-tab",function(){var e=s(this),n=e.data("tab"),e=(t.find(".pmpro-nbstup-login-tab").removeClass("is-active").attr("aria-selected","false"),e.addClass("is-active").attr("aria-selected","true"),t.find(".pmpro-nbstup-login-panel").removeClass("is-active").attr("hidden",!0),t.find('.pmpro-nbstup-login-panel[data-panel="'+n+'"]'));e.addClass("is-active").removeAttr("hidden"),e.find(".pmpro-nbstup-login-message").attr("hidden",!0).text(""),y(e.find(".pmpro-nbstup-login-form"))})}),s(document).on("input",'input[name="aadhar_number"]',function(){var e=s(this),n=e.val(),t=n.replace(/\D+/g,"").slice(0,12);n!==t&&e.val(t)}),s(document).on("input",".pmpro-nbstup-member-login__input",function(){var e,n;e=s(this),(n=e.closest(".pmpro-nbstup-member-login__field")).removeClass("has-error"),n.find(".pmpro-nbstup-field-error").remove(),e.removeAttr("aria-invalid aria-describedby")}),s(document).on("submit",".pmpro-nbstup-login-form",function(e){e.preventDefault();var n,t,a,i,r=s(this),e=r.data("login-type"),o=(y(r),{action:"admin"===e?"pmpronbstup_admin_login":"pmpronbstup_member_login",nonce:pmpro_nbstup_login.nonce,redirect:r.data("redirect")||""});"admin"===e?(o.user_login=s.trim(r.find('input[name="user_login"]').val()),o.user_password=r.find('input[name="user_password"]').val(),o.remember=r.find('input[name="remember"]').is(":checked")?1:0):(e=s.trim(r.find('input[name="aadhar_number"]').val()).replace(/\D+/g,""),o.aadhar_number=e,o.member_password=r.find('input[name="member_password"]').val()),e=!0,"admin"===(n=r).data("login-type")?(t=n.find('input[name="user_login"]'),a=n.find('input[name="user_password"]'),s.trim(t.val())||(w(n,t,pmpro_nbstup_login.validation_login||"Please enter your username or email."),e=!1),s.trim(a.val())||(w(n,a,pmpro_nbstup_login.validation_password||"Please enter your password."),e=!1)):(t=n.find('input[name="aadhar_number"]'),a=n.find('input[name="member_password"]'),(i=s.trim(t.val()).replace(/\s+/g,""))?/^\d{12}$/.test(i)||(w(n,t,pmpro_nbstup_login.validation_aadhar_format||"Enter a valid 12-digit Aadhar number."),e=!1):(w(n,t,pmpro_nbstup_login.validation_aadhar||"Please enter your Aadhar number."),e=!1),s.trim(a.val())||(w(n,a,pmpro_nbstup_login.validation_password||"Please enter your password."),e=!1)),e?(h(r,!0),s.ajax({url:pmpro_nbstup_login.ajax_url,type:"POST",dataType:"json",data:o}).done(function(e){var n;e&&e.success?(n=e.data&&e.data.redirect?e.data.redirect:window.location.href,window.location.href=n):(n=e&&e.data&&e.data.message?e.data.message:pmpro_nbstup_login.generic_error,v(r,n))}).fail(function(){v(r,pmpro_nbstup_login.generic_error)}).always(function(){h(r,!1)})):(v(r,pmpro_nbstup_login.validation_message||"Please fix the highlighted fields and try again."),(i=r.find(".pmpro-nbstup-member-login__field.has-error").first()).length&&i.find("input").first().trigger("focus"))}))});
//# sourceMappingURL=frontend.js.map
