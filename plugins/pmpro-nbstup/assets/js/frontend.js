((n,i)=>{var t=i.querySelector(".pmpro-nbstup-account-sidebar");function e(){var e=t.querySelectorAll('.pmpro-nbstup-account-nav a[href^="#"]'),a=n.pageYOffset+100;e.forEach(function(e){var t,n=e.getAttribute("href").slice(1),n=i.getElementById(n);n&&(n=(t=n.offsetTop)+n.offsetHeight,t<=a&&a<n?e.classList.add("active"):e.classList.remove("active"))})}t&&(t.addEventListener("click",function(e){var t=e.target.closest('a[href^="#"]');t&&(t=t.getAttribute("href").slice(1),t=i.getElementById(t))&&(e.preventDefault(),n.scrollTo({top:t.getBoundingClientRect().top+n.pageYOffset-80,behavior:"smooth"}))}),n.addEventListener("scroll",e),n.addEventListener("load",e))})(window,document),jQuery(document).ready(function(t){var e,a,i;t("#user_state").length&&(e=t("#user_state"),a=t("#user_district"),i=t("#user_block"),e.on("change",function(){var e=t(this).val();a.html('<option value="">Select State First</option>').prop("disabled",!0),i.html('<option value="">Select District First</option>').prop("disabled",!0),e&&t.ajax({url:pmpro_nbstup_ajax.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_districts",state_id:e,nonce:pmpro_nbstup_ajax.nonce},beforeSend:function(){a.html('<option value="">Loading...</option>')},success:function(e){var n;e.success&&0<e.data.length?(n='<option value="">Select District</option>',t.each(e.data,function(e,t){n+='<option value="'+t.id+'">'+t.name+"</option>"}),a.html(n).prop("disabled",!1)):a.html('<option value="">No districts available</option>')},error:function(){a.html('<option value="">Error loading districts</option>')}})}),a.on("change",function(){var e=t(this).val();i.html('<option value="">Select District First</option>').prop("disabled",!0),e&&t.ajax({url:pmpro_nbstup_ajax.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_blocks",district_id:e,nonce:pmpro_nbstup_ajax.nonce},beforeSend:function(){i.html('<option value="">Loading...</option>')},success:function(e){var n;e.success&&0<e.data.length?(n='<option value="">Select Block</option>',t.each(e.data,function(e,t){n+='<option value="'+t.id+'">'+t.name+"</option>"}),i.html(n).prop("disabled",!1)):i.html('<option value="">No blocks available</option>')},error:function(){i.html('<option value="">Error loading blocks</option>')}})}))}),jQuery(document).ready(function(e){var t=e("#select-all");t.length&&t.on("change",function(){e('input[name="user_ids[]"]').prop("checked",this.checked)})}),jQuery(document).ready(function(p){var e=p(".pmpro-nbstup-login-tabs");function s(e,t){e.closest(".pmpro-nbstup-login-panel").find(".pmpro-nbstup-login-message").removeAttr("hidden").text(t)}function l(e,t){e.find('button[type="submit"]').prop("disabled",t),e.toggleClass("is-loading",t)}function d(e){e&&e.length&&(e.find(".pmpro-nbstup-member-login__field").removeClass("has-error"),e.find(".pmpro-nbstup-field-error").remove(),e.find(".pmpro-nbstup-member-login__input").removeAttr("aria-invalid aria-describedby"))}function u(e,t,n){var a=t.closest(".pmpro-nbstup-member-login__field"),i=t.attr("name")||"field",e="pmpro-nbstup-"+(e.data("login-type")||"login")+"-"+i+"-error";a.addClass("has-error"),t.attr("aria-invalid","true").attr("aria-describedby",e),a.find("#"+e).length||p("<div/>",{class:"pmpro-nbstup-field-error",id:e,text:n}).appendTo(a)}e.length&&"undefined"!=typeof pmpro_nbstup_login&&(e.each(function(){var n=p(this);n.find(".pmpro-nbstup-login-panel").not(".is-active").attr("hidden",!0),n.on("click",".pmpro-nbstup-login-tab",function(){var e=p(this),t=e.data("tab"),e=(n.find(".pmpro-nbstup-login-tab").removeClass("is-active").attr("aria-selected","false"),e.addClass("is-active").attr("aria-selected","true"),n.find(".pmpro-nbstup-login-panel").removeClass("is-active").attr("hidden",!0),n.find('.pmpro-nbstup-login-panel[data-panel="'+t+'"]'));e.addClass("is-active").removeAttr("hidden"),e.find(".pmpro-nbstup-login-message").attr("hidden",!0).text(""),d(e.find(".pmpro-nbstup-login-form"))})}),p(document).on("input",'input[name="aadhar_number"]',function(){var e=p(this),t=e.val(),n=t.replace(/\D+/g,"").slice(0,12);t!==n&&e.val(n)}),p(document).on("input",".pmpro-nbstup-member-login__input",function(){var e,t;e=p(this),(t=e.closest(".pmpro-nbstup-member-login__field")).removeClass("has-error"),t.find(".pmpro-nbstup-field-error").remove(),e.removeAttr("aria-invalid aria-describedby")}),p(document).on("submit",".pmpro-nbstup-login-form",function(e){e.preventDefault();var t,n,a,i,o=p(this),e=o.data("login-type"),r=(d(o),{action:"admin"===e?"pmpronbstup_admin_login":"pmpronbstup_member_login",nonce:pmpro_nbstup_login.nonce,redirect:o.data("redirect")||""});"admin"===e?(r.user_login=p.trim(o.find('input[name="user_login"]').val()),r.user_password=o.find('input[name="user_password"]').val(),r.remember=o.find('input[name="remember"]').is(":checked")?1:0):(e=p.trim(o.find('input[name="aadhar_number"]').val()).replace(/\D+/g,""),r.aadhar_number=e,r.member_password=o.find('input[name="member_password"]').val()),e=!0,"admin"===(t=o).data("login-type")?(n=t.find('input[name="user_login"]'),a=t.find('input[name="user_password"]'),p.trim(n.val())||(u(t,n,pmpro_nbstup_login.validation_login||"Please enter your username or email."),e=!1),p.trim(a.val())||(u(t,a,pmpro_nbstup_login.validation_password||"Please enter your password."),e=!1)):(n=t.find('input[name="aadhar_number"]'),a=t.find('input[name="member_password"]'),(i=p.trim(n.val()).replace(/\s+/g,""))?/^\d{12}$/.test(i)||(u(t,n,pmpro_nbstup_login.validation_aadhar_format||"Enter a valid 12-digit Aadhar number."),e=!1):(u(t,n,pmpro_nbstup_login.validation_aadhar||"Please enter your Aadhar number."),e=!1),p.trim(a.val())||(u(t,a,pmpro_nbstup_login.validation_password||"Please enter your password."),e=!1)),e?(l(o,!0),p.ajax({url:pmpro_nbstup_login.ajax_url,type:"POST",dataType:"json",data:r}).done(function(e){var t;e&&e.success?(t=e.data&&e.data.redirect?e.data.redirect:window.location.href,window.location.href=t):(t=e&&e.data&&e.data.message?e.data.message:pmpro_nbstup_login.generic_error,s(o,t))}).fail(function(){s(o,pmpro_nbstup_login.generic_error)}).always(function(){l(o,!1)})):(s(o,pmpro_nbstup_login.validation_message||"Please fix the highlighted fields and try again."),(i=o.find(".pmpro-nbstup-member-login__field.has-error").first()).length&&i.find("input").first().trigger("focus"))}))});
//# sourceMappingURL=frontend.js.map
