((a,r)=>{var t=r.querySelector(".pmpro-nbstup-account-sidebar");function e(){var e=t.querySelectorAll('.pmpro-nbstup-account-nav a[href^="#"]'),n=a.pageYOffset+100;e.forEach(function(e){var t,a=e.getAttribute("href").slice(1),a=r.getElementById(a);a&&(a=(t=a.offsetTop)+a.offsetHeight,t<=n&&n<a?e.classList.add("active"):e.classList.remove("active"))})}t&&(t.addEventListener("click",function(e){var t=e.target.closest('a[href^="#"]');t&&(t=t.getAttribute("href").slice(1),t=r.getElementById(t))&&(e.preventDefault(),a.scrollTo({top:t.getBoundingClientRect().top+a.pageYOffset-80,behavior:"smooth"}))}),a.addEventListener("scroll",e),a.addEventListener("load",e))})(window,document),jQuery(document).ready(function(t){var e,n,r;t("#user_state").length&&"undefined"!=typeof pmpro_nbstup_data&&(e=t("#user_state"),n=t("#user_district"),r=t("#user_block"),e.on("change",function(){var e=t(this).val();n.html('<option value="">Select State First</option>').prop("disabled",!0),r.html('<option value="">Select District First</option>').prop("disabled",!0),e&&t.ajax({url:pmpro_nbstup_data.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_districts",state_id:e,nonce:pmpro_nbstup_data.ajax_nonce},beforeSend:function(){n.html('<option value="">Loading...</option>')},success:function(e){var a;e.success&&0<e.data.length?(a='<option value="">Select District</option>',t.each(e.data,function(e,t){a+='<option value="'+t.id+'">'+t.name+"</option>"}),n.html(a).prop("disabled",!1)):n.html('<option value="">No districts available</option>')},error:function(){n.html('<option value="">Error loading districts</option>')}})}),n.on("change",function(){var e=t(this).val();r.html('<option value="">Select District First</option>').prop("disabled",!0),e&&t.ajax({url:pmpro_nbstup_data.ajax_url,type:"POST",data:{action:"pmpro_nbstup_get_blocks",district_id:e,nonce:pmpro_nbstup_data.ajax_nonce},beforeSend:function(){r.html('<option value="">Loading...</option>')},success:function(e){var a;e.success&&0<e.data.length?(a='<option value="">Select Block</option>',t.each(e.data,function(e,t){a+='<option value="'+t.id+'">'+t.name+"</option>"}),r.html(a).prop("disabled",!1)):r.html('<option value="">No blocks available</option>')},error:function(){r.html('<option value="">Error loading blocks</option>')}})}))}),jQuery(document).ready(function(e){var t=e("#select-all");t.length&&t.on("change",function(){e('input[name="user_ids[]"]').prop("checked",this.checked)})}),jQuery(document).ready(function(p){var i,o,s,l,d,m,u,c,_,f,b,g,e=p("#pmpro_form_fieldset-member-details");function t(){var e=i.length?p.trim(i.val()).replace(/\D+/g,""):"",t=o.length?p.trim(o.val()||""):"",a=s.length?p.trim(s.val()||""):"",n=l.length&&l.val()||"",t=t?t.split(/\s+/):[],r=t.length?t[0]:"",t=1<t.length?t.slice(1).join(" "):"",e=(d.length&&d.val(e),m.length&&m.val(n),u.length&&u.val(n),(n=e)?n+"@nbstup.com":"");c.length&&c.val(e),_.length&&_.val(e),f.length&&f.val(r),b.length&&b.val(t),g.length&&g.val(a)}e.length&&(i=e.find("#aadhar_number"),o=e.find("#member_name"),s=e.find("#phone_no"),l=e.find("#member_password"),d=p("#pmpro_user_fields #username"),m=p("#pmpro_user_fields #password"),u=p("#pmpro_user_fields #password2"),c=p("#pmpro_user_fields #bemail"),_=p("#pmpro_user_fields #bconfirmemail"),f=p("#pmpro_billing_address_fields #bfirstname"),b=p("#pmpro_billing_address_fields #blastname"),g=p("#pmpro_billing_address_fields #bphone"),e.on("input change","#aadhar_number, #member_password, #member_name, #phone_no",t),t());e=p(".pmpro-nbstup-login-tabs");function v(e,t){e.closest(".pmpro-nbstup-login-panel").find(".pmpro-nbstup-login-message").removeAttr("hidden").text(t)}function h(e,t){e.find('button[type="submit"]').prop("disabled",t),e.toggleClass("is-loading",t)}function y(e){e&&e.length&&(e.find(".pmpro-nbstup-member-login__field").removeClass("has-error"),e.find(".pmpro-nbstup-field-error").remove(),e.find(".pmpro-nbstup-member-login__input").removeAttr("aria-invalid aria-describedby"))}function w(e,t,a){var n=t.closest(".pmpro-nbstup-member-login__field"),r=t.attr("name")||"field",e="pmpro-nbstup-"+(e.data("login-type")||"login")+"-"+r+"-error";n.addClass("has-error"),t.attr("aria-invalid","true").attr("aria-describedby",e),n.find("#"+e).length||p("<div/>",{class:"pmpro-nbstup-field-error",id:e,text:a}).appendTo(n)}e.length&&"undefined"!=typeof pmpro_nbstup_data&&(e.each(function(){var a=p(this);a.find(".pmpro-nbstup-login-panel").not(".is-active").attr("hidden",!0),a.on("click",".pmpro-nbstup-login-tab",function(){var e=p(this),t=e.data("tab"),e=(a.find(".pmpro-nbstup-login-tab").removeClass("is-active").attr("aria-selected","false"),e.addClass("is-active").attr("aria-selected","true"),a.find(".pmpro-nbstup-login-panel").removeClass("is-active").attr("hidden",!0),a.find('.pmpro-nbstup-login-panel[data-panel="'+t+'"]'));e.addClass("is-active").removeAttr("hidden"),e.find(".pmpro-nbstup-login-message").attr("hidden",!0).text(""),y(e.find(".pmpro-nbstup-login-form"))})}),p(document).on("input",'input[name="aadhar_number"]',function(){var e=p(this),t=e.val(),a=t.replace(/\D+/g,"").slice(0,12);t!==a&&e.val(a)}),p(document).on("input",".pmpro-nbstup-member-login__input",function(){var e,t;e=p(this),(t=e.closest(".pmpro-nbstup-member-login__field")).removeClass("has-error"),t.find(".pmpro-nbstup-field-error").remove(),e.removeAttr("aria-invalid aria-describedby")}),p(document).on("submit",".pmpro-nbstup-login-form",function(e){e.preventDefault();var t,a,n,r,i=p(this),e=i.data("login-type"),o=(y(i),{action:"admin"===e?"pmpronbstup_admin_login":"pmpronbstup_member_login",nonce:pmpro_nbstup_data.login_nonce,redirect:i.data("redirect")||""});"admin"===e?(o.user_login=p.trim(i.find('input[name="user_login"]').val()),o.user_password=i.find('input[name="user_password"]').val(),o.remember=i.find('input[name="remember"]').is(":checked")?1:0):(e=p.trim(i.find('input[name="aadhar_number"]').val()).replace(/\D+/g,""),o.aadhar_number=e,o.member_password=i.find('input[name="member_password"]').val()),e=!0,"admin"===(t=i).data("login-type")?(a=t.find('input[name="user_login"]'),n=t.find('input[name="user_password"]'),p.trim(a.val())||(w(t,a,pmpro_nbstup_data.validation_login||"Please enter your username or email."),e=!1),p.trim(n.val())||(w(t,n,pmpro_nbstup_data.validation_password||"Please enter your password."),e=!1)):(a=t.find('input[name="aadhar_number"]'),n=t.find('input[name="member_password"]'),(r=p.trim(a.val()).replace(/\s+/g,""))?/^\d{12}$/.test(r)||(w(t,a,pmpro_nbstup_data.validation_aadhar_format||"Enter a valid 12-digit Aadhar number."),e=!1):(w(t,a,pmpro_nbstup_data.validation_aadhar||"Please enter your Aadhar number."),e=!1),p.trim(n.val())||(w(t,n,pmpro_nbstup_data.validation_password||"Please enter your password."),e=!1)),e?(h(i,!0),p.ajax({url:pmpro_nbstup_data.ajax_url,type:"POST",dataType:"json",data:o}).done(function(e){var t;e&&e.success?(t=e.data&&e.data.redirect?e.data.redirect:window.location.href,window.location.href=t):(t=e&&e.data&&e.data.message?e.data.message:pmpro_nbstup_data.generic_error,v(i,t))}).fail(function(){v(i,pmpro_nbstup_data.generic_error)}).always(function(){h(i,!1)})):(v(i,pmpro_nbstup_data.validation_message||"Please fix the highlighted fields and try again."),(r=i.find(".pmpro-nbstup-member-login__field.has-error").first()).length&&r.find("input").first().trigger("focus"))}))});
//# sourceMappingURL=frontend.js.map
